(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();function H_(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Of={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function lT(){if(gy)return kl;gy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:s,key:d,ref:o!==void 0?o:null,props:h}}return kl.Fragment=e,kl.jsx=i,kl.jsxs=i,kl}var py;function oT(){return py||(py=1,Of.exports=lT()),Of.exports}var J=oT(),Uf={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function uT(){if(yy)return At;yy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=C&&V[C]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,tt={};function Z(V,$,it){this.props=V,this.context=$,this.refs=tt,this.updater=it||k}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,$){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,$,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ft(){}ft.prototype=Z.prototype;function lt(V,$,it){this.props=V,this.context=$,this.refs=tt,this.updater=it||k}var ht=lt.prototype=new ft;ht.constructor=lt,Y(ht,Z.prototype),ht.isPureReactComponent=!0;var Ut=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function x(V,$,it,W,dt,bt){return it=bt.ref,{$$typeof:a,type:V,key:$,ref:it!==void 0?it:null,props:bt}}function S(V,$){return x(V.type,$,void 0,void 0,void 0,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===a}function N(V){var $={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(it){return $[it]})}var M=/\/+/g;function U(V,$){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):$.toString(36)}function R(){}function Oe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(R,R):(V.status="pending",V.then(function($){V.status==="pending"&&(V.status="fulfilled",V.value=$)},function($){V.status==="pending"&&(V.status="rejected",V.reason=$)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function re(V,$,it,W,dt){var bt=typeof V;(bt==="undefined"||bt==="boolean")&&(V=null);var _t=!1;if(V===null)_t=!0;else switch(bt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(V.$$typeof){case a:case e:_t=!0;break;case A:return _t=V._init,re(_t(V._payload),$,it,W,dt)}}if(_t)return dt=dt(V),_t=W===""?"."+U(V,0):W,Ut(dt)?(it="",_t!=null&&(it=_t.replace(M,"$&/")+"/"),re(dt,$,it,"",function(kn){return kn})):dt!=null&&(D(dt)&&(dt=S(dt,it+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+_t)),$.push(dt)),1;_t=0;var De=W===""?".":W+":";if(Ut(V))for(var Zt=0;Zt<V.length;Zt++)W=V[Zt],bt=De+U(W,Zt),_t+=re(W,$,it,bt,dt);else if(Zt=w(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!(W=V.next()).done;)W=W.value,bt=De+U(W,Zt++),_t+=re(W,$,it,bt,dt);else if(bt==="object"){if(typeof V.then=="function")return re(Oe(V),$,it,W,dt);throw $=String(V),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return _t}function H(V,$,it){if(V==null)return V;var W=[],dt=0;return re(V,W,"","",function(bt){return $.call(it,bt,dt++)}),W}function nt(V){if(V._status===-1){var $=V._result;$=$(),$.then(function(it){(V._status===0||V._status===-1)&&(V._status=1,V._result=it)},function(it){(V._status===0||V._status===-1)&&(V._status=2,V._result=it)}),V._status===-1&&(V._status=0,V._result=$)}if(V._status===1)return V._result.default;throw V._result}var ut=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Pt(){}return At.Children={map:H,forEach:function(V,$,it){H(V,function(){$.apply(this,arguments)},it)},count:function(V){var $=0;return H(V,function(){$++}),$},toArray:function(V){return H(V,function($){return $})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},At.Component=Z,At.Fragment=i,At.Profiler=o,At.PureComponent=lt,At.StrictMode=s,At.Suspense=v,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,At.__COMPILER_RUNTIME={__proto__:null,c:function(V){return Tt.H.useMemoCache(V)}},At.cache=function(V){return function(){return V.apply(null,arguments)}},At.cloneElement=function(V,$,it){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var W=Y({},V.props),dt=V.key,bt=void 0;if($!=null)for(_t in $.ref!==void 0&&(bt=void 0),$.key!==void 0&&(dt=""+$.key),$)!zt.call($,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&$.ref===void 0||(W[_t]=$[_t]);var _t=arguments.length-2;if(_t===1)W.children=it;else if(1<_t){for(var De=Array(_t),Zt=0;Zt<_t;Zt++)De[Zt]=arguments[Zt+2];W.children=De}return x(V.type,dt,void 0,void 0,bt,W)},At.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:h,_context:V},V},At.createElement=function(V,$,it){var W,dt={},bt=null;if($!=null)for(W in $.key!==void 0&&(bt=""+$.key),$)zt.call($,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(dt[W]=$[W]);var _t=arguments.length-2;if(_t===1)dt.children=it;else if(1<_t){for(var De=Array(_t),Zt=0;Zt<_t;Zt++)De[Zt]=arguments[Zt+2];dt.children=De}if(V&&V.defaultProps)for(W in _t=V.defaultProps,_t)dt[W]===void 0&&(dt[W]=_t[W]);return x(V,bt,void 0,void 0,null,dt)},At.createRef=function(){return{current:null}},At.forwardRef=function(V){return{$$typeof:g,render:V}},At.isValidElement=D,At.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:nt}},At.memo=function(V,$){return{$$typeof:_,type:V,compare:$===void 0?null:$}},At.startTransition=function(V){var $=Tt.T,it={};Tt.T=it;try{var W=V(),dt=Tt.S;dt!==null&&dt(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Pt,ut)}catch(bt){ut(bt)}finally{Tt.T=$}},At.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},At.use=function(V){return Tt.H.use(V)},At.useActionState=function(V,$,it){return Tt.H.useActionState(V,$,it)},At.useCallback=function(V,$){return Tt.H.useCallback(V,$)},At.useContext=function(V){return Tt.H.useContext(V)},At.useDebugValue=function(){},At.useDeferredValue=function(V,$){return Tt.H.useDeferredValue(V,$)},At.useEffect=function(V,$,it){var W=Tt.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(V,$)},At.useId=function(){return Tt.H.useId()},At.useImperativeHandle=function(V,$,it){return Tt.H.useImperativeHandle(V,$,it)},At.useInsertionEffect=function(V,$){return Tt.H.useInsertionEffect(V,$)},At.useLayoutEffect=function(V,$){return Tt.H.useLayoutEffect(V,$)},At.useMemo=function(V,$){return Tt.H.useMemo(V,$)},At.useOptimistic=function(V,$){return Tt.H.useOptimistic(V,$)},At.useReducer=function(V,$,it){return Tt.H.useReducer(V,$,it)},At.useRef=function(V){return Tt.H.useRef(V)},At.useState=function(V){return Tt.H.useState(V)},At.useSyncExternalStore=function(V,$,it){return Tt.H.useSyncExternalStore(V,$,it)},At.useTransition=function(){return Tt.H.useTransition()},At.version="19.1.1",At}var _y;function Ad(){return _y||(_y=1,Uf.exports=uT()),Uf.exports}var Re=Ad();const cT=H_(Re);var Lf={exports:{}},jl={},zf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function hT(){return vy||(vy=1,function(a){function e(H,nt){var ut=H.length;H.push(nt);t:for(;0<ut;){var Pt=ut-1>>>1,V=H[Pt];if(0<o(V,nt))H[Pt]=nt,H[ut]=V,ut=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var nt=H[0],ut=H.pop();if(ut!==nt){H[0]=ut;t:for(var Pt=0,V=H.length,$=V>>>1;Pt<$;){var it=2*(Pt+1)-1,W=H[it],dt=it+1,bt=H[dt];if(0>o(W,ut))dt<V&&0>o(bt,W)?(H[Pt]=bt,H[dt]=ut,Pt=dt):(H[Pt]=W,H[it]=ut,Pt=it);else if(dt<V&&0>o(bt,ut))H[Pt]=bt,H[dt]=ut,Pt=dt;else break t}}return nt}function o(H,nt){var ut=H.sortIndex-nt.sortIndex;return ut!==0?ut:H.id-nt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,C=null,w=3,k=!1,Y=!1,tt=!1,Z=!1,ft=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Ut(H){for(var nt=i(_);nt!==null;){if(nt.callback===null)s(_);else if(nt.startTime<=H)s(_),nt.sortIndex=nt.expirationTime,e(v,nt);else break;nt=i(_)}}function Tt(H){if(tt=!1,Ut(H),!Y)if(i(v)!==null)Y=!0,zt||(zt=!0,U());else{var nt=i(_);nt!==null&&re(Tt,nt.startTime-H)}}var zt=!1,x=-1,S=5,D=-1;function N(){return Z?!0:!(a.unstable_now()-D<S)}function M(){if(Z=!1,zt){var H=a.unstable_now();D=H;var nt=!0;try{t:{Y=!1,tt&&(tt=!1,lt(x),x=-1),k=!0;var ut=w;try{e:{for(Ut(H),C=i(v);C!==null&&!(C.expirationTime>H&&N());){var Pt=C.callback;if(typeof Pt=="function"){C.callback=null,w=C.priorityLevel;var V=Pt(C.expirationTime<=H);if(H=a.unstable_now(),typeof V=="function"){C.callback=V,Ut(H),nt=!0;break e}C===i(v)&&s(v),Ut(H)}else s(v);C=i(v)}if(C!==null)nt=!0;else{var $=i(_);$!==null&&re(Tt,$.startTime-H),nt=!1}}break t}finally{C=null,w=ut,k=!1}nt=void 0}}finally{nt?U():zt=!1}}}var U;if(typeof ht=="function")U=function(){ht(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Oe=R.port2;R.port1.onmessage=M,U=function(){Oe.postMessage(null)}}else U=function(){ft(M,0)};function re(H,nt){x=ft(function(){H(a.unstable_now())},nt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return w},a.unstable_next=function(H){switch(w){case 1:case 2:case 3:var nt=3;break;default:nt=w}var ut=w;w=nt;try{return H()}finally{w=ut}},a.unstable_requestPaint=function(){Z=!0},a.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=w;w=H;try{return nt()}finally{w=ut}},a.unstable_scheduleCallback=function(H,nt,ut){var Pt=a.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Pt+ut:Pt):ut=Pt,H){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ut+V,H={id:A++,callback:nt,priorityLevel:H,startTime:ut,expirationTime:V,sortIndex:-1},ut>Pt?(H.sortIndex=ut,e(_,H),i(v)===null&&H===i(_)&&(tt?(lt(x),x=-1):tt=!0,re(Tt,ut-Pt))):(H.sortIndex=V,e(v,H),Y||k||(Y=!0,zt||(zt=!0,U()))),H},a.unstable_shouldYield=N,a.unstable_wrapCallback=function(H){var nt=w;return function(){var ut=w;w=nt;try{return H.apply(this,arguments)}finally{w=ut}}}}(Pf)),Pf}var Ey;function fT(){return Ey||(Ey=1,zf.exports=hT()),zf.exports}var Bf={exports:{}},Qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function dT(){if(Ty)return Qe;Ty=1;var a=Ad();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(v,_,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:v,containerInfo:_,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qe.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},Qe.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},Qe.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},Qe.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},Qe.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin),w=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:C,integrity:w,fetchPriority:k}):A==="script"&&s.d.X(v,{crossOrigin:C,integrity:w,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},Qe.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,C=g(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:C,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},Qe.requestFormReset=function(v){s.d.r(v)},Qe.unstable_batchedUpdates=function(v,_){return v(_)},Qe.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.1.1",Qe}var Ay;function mT(){if(Ay)return Bf.exports;Ay=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Bf.exports=dT(),Bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function gT(){if(Sy)return jl;Sy=1;var a=fT(),e=Ad(),i=mT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ft=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case Z:return"Profiler";case tt:return"StrictMode";case Tt:return"Suspense";case zt:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ht:return(t.displayName||"Context")+".Provider";case lt:return(t._context.displayName||"Context")+".Consumer";case Ut:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Pt=[],V=-1;function $(t){return{current:t}}function it(t){0>V||(t.current=Pt[V],Pt[V]=null,V--)}function W(t,n){V++,Pt[V]=t.current,t.current=n}var dt=$(null),bt=$(null),_t=$(null),De=$(null);function Zt(t,n){switch(W(_t,n),W(bt,t),W(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Hp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Hp(n),t=Gp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}it(dt),W(dt,t)}function kn(){it(dt),it(bt),it(_t)}function Pi(t){t.memoizedState!==null&&W(De,t);var n=dt.current,r=Gp(n,t.type);n!==r&&(W(bt,t),W(dt,r))}function ui(t){bt.current===t&&(it(dt),it(bt)),De.current===t&&(it(De),Ul._currentValue=ut)}var Vr=Object.prototype.hasOwnProperty,Ir=a.unstable_scheduleCallback,Nr=a.unstable_cancelCallback,xa=a.unstable_shouldYield,go=a.unstable_requestPaint,yn=a.unstable_now,Mc=a.unstable_getCurrentPriorityLevel,Ma=a.unstable_ImmediatePriority,Ts=a.unstable_UserBlockingPriority,xr=a.unstable_NormalPriority,Oc=a.unstable_LowPriority,As=a.unstable_IdlePriority,Oa=a.log,po=a.unstable_setDisableYieldValue,se=null,qt=null;function an(t){if(typeof Oa=="function"&&po(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(se,t)}catch{}}var He=Math.clz32?Math.clz32:Mr,yo=Math.log,Uc=Math.LN2;function Mr(t){return t>>>=0,t===0?32:31-(yo(t)/Uc|0)|0}var Or=256,Ur=4194304;function xn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ss(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=xn(l):(y&=E,y!==0?c=xn(y):r||(r=E&~t,r!==0&&(c=xn(r))))):(E=l&~f,E!==0?c=xn(E):y!==0?c=xn(y):r||(r=l&~t,r!==0&&(c=xn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Lr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ua(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function La(){var t=Or;return Or<<=1,(Or&4194048)===0&&(Or=256),t}function za(){var t=Ur;return Ur<<=1,(Ur&62914560)===0&&(Ur=4194304),t}function ci(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function hi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pa(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-He(r),K=1<<G;E[G]=0,b[G]=-1;var B=P[G];if(B!==null)for(P[G]=null,G=0;G<B.length;G++){var j=B[G];j!==null&&(j.lane&=-536870913)}r&=~K}l!==0&&jn(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function jn(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Ba(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-He(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Bi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bs(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ki(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:uy(t.type))}function _o(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var te=Math.random().toString(36).slice(2),Ee="__reactFiber$"+te,fe="__reactProps$"+te,_n="__reactContainer$"+te,ka="__reactEvents$"+te,Lc="__reactListeners$"+te,ji="__reactHandles$"+te,vo="__reactResources$"+te,zr="__reactMarker$"+te;function qi(t){delete t[Ee],delete t[fe],delete t[ka],delete t[Lc],delete t[ji]}function fi(t){var n=t[Ee];if(n)return n;for(var r=t.parentNode;r;){if(n=r[_n]||r[Ee]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Kp(t);t!==null;){if(r=t[Ee])return r;t=Kp(t)}return n}t=r,r=t.parentNode}return null}function qn(t){if(t=t[Ee]||t[_n]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Hn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Xe(t){var n=t[vo];return n||(n=t[vo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[zr]=!0}var ja=new Set,Rs={};function Mn(t,n){di(t,n),di(t+"Capture",n)}function di(t,n){for(Rs[t]=n,t=0;t<n.length;t++)ja.add(n[t])}var Eo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),To={},Pr={};function Ao(t){return Vr.call(Pr,t)?!0:Vr.call(To,t)?!1:Eo.test(t)?Pr[t]=!0:(To[t]=!0,!1)}function Hi(t,n,r){if(Ao(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Gn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Ue(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Br,So;function mi(t){if(Br===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Br=n&&n[1]||"",So=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Br+t+So}var ws=!1;function Ds(t,n){if(!t||ws)return"";ws=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(j){var B=j}Reflect.construct(t,[],K)}else{try{K.call()}catch(j){B=j}t.call(K.prototype)}}else{try{throw Error()}catch(j){B=j}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(j){if(j&&B&&typeof j.stack=="string")return[j.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{ws=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?mi(r):""}function qa(t){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Ds(t.type,!1);case 11:return Ds(t.type.render,!1);case 1:return Ds(t.type,!0);case 31:return mi("Activity");default:return""}}function Cs(t){try{var n="";do n+=qa(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ha(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function zc(t){var n=Ha(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Vs(t){t._valueTracker||(t._valueTracker=zc(t))}function Ga(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ha(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function kr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pc=/[\n"\\]/g;function de(t){return t.replace(Pc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Gi(t,y,Ze(n)):r!=null?Gi(t,y,Ze(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ze(E):t.removeAttribute("name")}function jr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ze(r):"",n=n!=null?""+Ze(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Gi(t,n,r){n==="number"&&kr(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function gi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ze(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ze(r):""}function qr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ze(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function vn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Hr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Hr.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Qa(t,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&bo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&bo(t,f,n[f])}function Fa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Is(t){return kc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pi=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yi=null,_i=null;function Ya(t){var n=qn(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(ln(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(s(90));ln(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ga(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&gi(t,!!r.multiple,n,!1)}}}var Qn=!1;function Ro(t,n,r){if(Qn)return t(n,r);Qn=!0;try{var l=t(n);return l}finally{if(Qn=!1,(yi!==null||_i!==null)&&(_u(),yi&&(n=yi,t=_i,_i=yi=null,Ya(n),t)))for(n=0;n<t.length;n++)Ya(t[n])}}function Gr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(On)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Tn=!1}var Fn=null,Qi=null,vi=null;function Ka(){if(vi)return vi;var t,n=Qi,r=n.length,l,c="value"in Fn?Fn.value:Fn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return vi=c.slice(t,1<l?1-l:void 0)}function Yn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Kn(){return!0}function Xa(){return!1}function Ce(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Kn:Xa,this.isPropagationStopped=Xa,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kn)},persist:function(){},isPersistent:Kn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ns=Ce(kt),Fr=A({},kt,{view:0,detail:0}),wo=Ce(Fr),xs,Ms,Xn,Yr=A({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xn&&(Xn&&t.type==="mousemove"?(xs=t.screenX-Xn.screenX,Ms=t.screenY-Xn.screenY):Ms=xs=0,Xn=t),xs)},movementY:function(t){return"movementY"in t?t.movementY:Ms}}),An=Ce(Yr),Do=A({},Yr,{dataTransfer:0}),jc=Ce(Do),Kr=A({},Fr,{relatedTarget:0}),Os=Ce(Kr),Za=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Us=Ce(Za),Co=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ls=Ce(Co),qc=A({},kt,{data:0}),$a=Ce(qc),Xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Io={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ja(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Io[t])?!!n[t]:!1}function Zr(){return Ja}var No=A({},Fr,{key:function(t){if(t.key){var n=Xr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Yn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?Yn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Yn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zs=Ce(No),xo=A({},Yr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wa=Ce(xo),Ei=A({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),Mo=Ce(Ei),Oo=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uo=Ce(Oo),Lo=A({},Yr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ps=Ce(Lo),$e=A({},kt,{newState:0,oldState:0}),zo=Ce($e),Po=[9,13,27,32],Zn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,p=On&&(!Zn||u&&8<u&&11>=u),T=" ",L=!1;function q(t,n){switch(t){case"keyup":return Po.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function Te(t,n){switch(t){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return t=n.data,t===T&&L?null:t;default:return null}}function Nt(t,n){if(It)return t==="compositionend"||!Zn&&q(t,n)?(t=Ka(),vi=Qi=Fn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function Ti(t,n,r,l){yi?_i?_i.push(l):_i=[l]:yi=l,n=bu(n,"onChange"),0<n.length&&(r=new Ns("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Le=null,$n=null;function tl(t){Pp(t,0)}function Bo(t){var n=Hn(t);if(Ga(n))return t}function sm(t,n){if(t==="change")return n}var am=!1;if(On){var Hc;if(On){var Gc="oninput"in document;if(!Gc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Gc=typeof lm.oninput=="function"}Hc=Gc}else Hc=!1;am=Hc&&(!document.documentMode||9<document.documentMode)}function om(){Le&&(Le.detachEvent("onpropertychange",um),$n=Le=null)}function um(t){if(t.propertyName==="value"&&Bo($n)){var n=[];Ti(n,$n,t,En(t)),Ro(tl,n)}}function z0(t,n,r){t==="focusin"?(om(),Le=n,$n=r,Le.attachEvent("onpropertychange",um)):t==="focusout"&&om()}function P0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bo($n)}function B0(t,n){if(t==="click")return Bo(n)}function k0(t,n){if(t==="input"||t==="change")return Bo(n)}function j0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var on=typeof Object.is=="function"?Object.is:j0;function el(t,n){if(on(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Vr.call(n,c)||!on(t[c],n[c]))return!1}return!0}function cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hm(t,n){var r=cm(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cm(r)}}function fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=kr(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=kr(t.document)}return n}function Qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var q0=On&&"documentMode"in document&&11>=document.documentMode,Bs=null,Fc=null,nl=null,Yc=!1;function mm(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yc||Bs==null||Bs!==kr(l)||(l=Bs,"selectionStart"in l&&Qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&el(nl,l)||(nl=l,l=bu(Fc,"onSelect"),0<l.length&&(n=new Ns("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Bs)))}function $r(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var ks={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},Kc={},gm={};On&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Jr(t){if(Kc[t])return Kc[t];if(!ks[t])return t;var n=ks[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in gm)return Kc[t]=n[r];return t}var pm=Jr("animationend"),ym=Jr("animationiteration"),_m=Jr("animationstart"),H0=Jr("transitionrun"),G0=Jr("transitionstart"),Q0=Jr("transitioncancel"),vm=Jr("transitionend"),Em=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Un(t,n){Em.set(t,n),Mn(n,[t])}var Tm=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var r=Tm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Cs(n)},Tm.set(t,n),n)}return{value:t,source:n,stack:Cs(n)}}var bn=[],js=0,Zc=0;function ko(){for(var t=js,n=Zc=js=0;n<t;){var r=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var c=bn[n];bn[n++]=null;var f=bn[n];if(bn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Am(r,c,f)}}function jo(t,n,r,l){bn[js++]=t,bn[js++]=n,bn[js++]=r,bn[js++]=l,Zc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $c(t,n,r,l){return jo(t,n,r,l),qo(t)}function qs(t,n){return jo(t,null,null,n),qo(t)}function Am(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-He(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function qo(t){if(50<Dl)throw Dl=0,rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Hs={};function F0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(t,n,r,l){return new F0(t,n,r,l)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ai(t,n){var r=t.alternate;return r===null?(r=un(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Sm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ho(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")Jc(t)&&(y=1);else if(typeof t=="string")y=KE(t,r,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case D:return t=un(31,r,n,c),t.elementType=D,t.lanes=f,t;case Y:return Wr(r.children,c,f,n);case tt:y=8,c|=24;break;case Z:return t=un(12,r,n,c|2),t.elementType=Z,t.lanes=f,t;case Tt:return t=un(13,r,n,c),t.elementType=Tt,t.lanes=f,t;case zt:return t=un(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ft:case ht:y=10;break t;case lt:y=9;break t;case Ut:y=11;break t;case x:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=un(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Wr(t,n,r,l){return t=un(7,t,l,n),t.lanes=r,t}function Wc(t,n,r){return t=un(6,t,null,n),t.lanes=r,t}function th(t,n,r){return n=un(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gs=[],Qs=0,Go=null,Qo=0,Rn=[],wn=0,ts=null,Si=1,bi="";function es(t,n){Gs[Qs++]=Qo,Gs[Qs++]=Go,Go=t,Qo=n}function bm(t,n,r){Rn[wn++]=Si,Rn[wn++]=bi,Rn[wn++]=ts,ts=t;var l=Si;t=bi;var c=32-He(l)-1;l&=~(1<<c),r+=1;var f=32-He(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,Si=1<<32-He(n)+c|r<<c|l,bi=f+t}else Si=1<<f|r<<c|l,bi=t}function eh(t){t.return!==null&&(es(t,1),bm(t,1,0))}function nh(t){for(;t===Go;)Go=Gs[--Qs],Gs[Qs]=null,Qo=Gs[--Qs],Gs[Qs]=null;for(;t===ts;)ts=Rn[--wn],Rn[wn]=null,bi=Rn[--wn],Rn[wn]=null,Si=Rn[--wn],Rn[wn]=null}var Je=null,ae=null,Bt=!1,ns=null,Jn=!1,ih=Error(s(519));function is(t){var n=Error(s(418,""));throw sl(Sn(n,t)),ih}function Rm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[fe]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<Vl.length;r++)Dt(Vl[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),jr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Vs(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),qr(n,l.value,l.defaultValue,l.children),Vs(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||qp(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Ru),n=!0):n=!1,n||is(t)}function wm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Je=Je.return}}function il(t){if(t!==Je)return!1;if(!Bt)return wm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Ef(t.type,t.memoizedProps)),r=!r),r&&ae&&is(t),wm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=zn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,lr(t.type)?(t=bf,bf=null,ae=t):ae=n):ae=Je?zn(t.stateNode.nextSibling):null;return!0}function rl(){ae=Je=null,Bt=!1}function Dm(){var t=ns;return t!==null&&(en===null?en=t:en.push.apply(en,t),ns=null),t}function sl(t){ns===null?ns=[t]:ns.push(t)}var rh=$(null),rs=null,Ri=null;function Fi(t,n,r){W(rh,n._currentValue),n._currentValue=r}function wi(t){t._currentValue=rh.current,it(rh)}function sh(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ah(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),sh(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),sh(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function al(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;on(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===De.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}c=c.return}t!==null&&ah(n,t,r,l),n.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!on(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ss(t){rs=t,Ri=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Cm(rs,t)}function Yo(t,n){return rs===null&&ss(t),Cm(t,n)}function Cm(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ri===null){if(t===null)throw Error(s(308));Ri=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ri=Ri.next=n;return r}var Y0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},K0=a.unstable_scheduleCallback,X0=a.unstable_NormalPriority,Se={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new Y0,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&K0(X0,function(){t.controller.abort()})}var ol=null,oh=0,Fs=0,Ys=null;function Z0(t,n){if(ol===null){var r=ol=[];oh=0,Fs=hf(),Ys={status:"pending",value:void 0,then:function(l){r.push(l)}}}return oh++,n.then(Vm,Vm),n}function Vm(){if(--oh===0&&ol!==null){Ys!==null&&(Ys.status="fulfilled");var t=ol;ol=null,Fs=0,Ys=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Im=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Z0(t,n),Im!==null&&Im(t,n)};var as=$(null);function uh(){var t=as.current;return t!==null?t:$t.pooledCache}function Ko(t,n){n===null?W(as,as.current):W(as,n.pool)}function Nm(){var t=uh();return t===null?null:{parent:Se._currentValue,pool:t}}var ul=Error(s(460)),xm=Error(s(474)),Xo=Error(s(542)),ch={then:function(){}};function Mm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zo(){}function Om(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Zo,Zo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t;default:if(typeof n.status=="string")n.then(Zo,Zo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t}throw cl=n,ul}}var cl=null;function Um(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function Lm(t){if(t===ul||t===Xo)throw Error(s(483))}var Yi=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ki(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Xi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qo(t),Am(t,null,r),n}return jo(t,l,n,r),qo(t)}function hl(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ba(t,r)}}function dh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var mh=!1;function fl(){if(mh){var t=Ys;if(t!==null)throw t}}function dl(t,n,r,l){mh=!1;var c=t.updateQueue;Yi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=P:E.next=P,G.lastBaseUpdate=b))}if(f!==null){var K=c.baseState;y=0,G=P=b=null,E=f;do{var B=E.lane&-536870913,j=B!==E.lane;if(j?(xt&B)===B:(l&B)===B){B!==0&&B===Fs&&(mh=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=t,mt=E;B=n;var Kt=r;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){K=yt.call(Kt,K,B);break t}K=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,B=typeof yt=="function"?yt.call(Kt,K,B):yt,B==null)break t;K=A({},K,B);break t;case 2:Yi=!0}}B=E.callback,B!==null&&(t.flags|=64,j&&(t.flags|=8192),j=c.callbacks,j===null?c.callbacks=[B]:j.push(B))}else j={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(P=G=j,b=K):G=G.next=j,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;j=E,E=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);G===null&&(b=K),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),ir|=y,t.lanes=y,t.memoizedState=K}}function zm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Pm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)zm(r[t],n)}var Ks=$(null),$o=$(0);function Bm(t,n){t=Mi,W($o,t),W(Ks,n),Mi=t|n.baseLanes}function gh(){W($o,Mi),W(Ks,Ks.current)}function ph(){Mi=$o.current,it(Ks),it($o)}var Zi=0,St=null,Ft=null,me=null,Jo=!1,Xs=!1,ls=!1,Wo=0,ml=0,Zs=null,J0=0;function ue(){throw Error(s(321))}function yh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!on(t[r],n[r]))return!1;return!0}function _h(t,n,r,l,c,f){return Zi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Ag:Sg,ls=!1,f=r(l,c),ls=!1,Xs&&(f=jm(n,r,l,c)),km(t),f}function km(t){H.H=su;var n=Ft!==null&&Ft.next!==null;if(Zi=0,me=Ft=St=null,Jo=!1,ml=0,Zs=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&Fo(t)&&(Ie=!0))}function jm(t,n,r,l){St=t;var c=0;do{if(Xs&&(Zs=null),ml=0,Xs=!1,25<=c)throw Error(s(301));if(c+=1,me=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=sE,f=n(r,l)}while(Xs);return f}function W0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?gl(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(St.flags|=1024),n}function vh(){var t=Wo!==0;return Wo=0,t}function Eh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Th(t){if(Jo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Jo=!1}Zi=0,me=Ft=St=null,Xs=!1,ml=Wo=0,Zs=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?St.memoizedState=me=t:me=me.next=t,me}function ge(){if(Ft===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=me===null?St.memoizedState:me.next;if(n!==null)me=n,Ft=t;else{if(t===null)throw St.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},me===null?St.memoizedState=me=t:me=me.next=t}return me}function Ah(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var n=ml;return ml+=1,Zs===null&&(Zs=[]),t=Om(Zs,t,n),n=St,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Ag:Sg),t}function tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===ht)return Ge(t)}throw Error(s(438,String(t)))}function Sh(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ah(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=N;return n.index++,r}function Di(t,n){return typeof n=="function"?n(t):n}function eu(t){var n=ge();return bh(n,Ft,t)}function bh(t,n,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,G=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(xt&K)===K:(Zi&K)===K){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Fs&&(G=!0);else if((Zi&B)===B){P=P.next,B===Fs&&(G=!0);continue}else K={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=K,y=f):b=b.next=K,St.lanes|=B,ir|=B;K=P.action,ls&&r(f,K),f=P.hasEagerState?P.eagerState:r(f,K)}else B={lane:K,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,St.lanes|=K,ir|=K;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!on(f,t.memoizedState)&&(Ie=!0,G&&(r=Ys,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rh(t){var n=ge(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);on(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function qm(t,n,r){var l=St,c=ge(),f=Bt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!on((Ft||c).memoizedState,r);y&&(c.memoizedState=r,Ie=!0),c=c.queue;var E=Qm.bind(null,l,c,t);if(pl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,$s(9,nu(),Gm.bind(null,l,c,r,n),null),$t===null)throw Error(s(349));f||(Zi&124)!==0||Hm(l,n,r)}return r}function Hm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=Ah(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Gm(t,n,r,l){n.value=r,n.getSnapshot=l,Fm(n)&&Ym(t)}function Qm(t,n,r){return r(function(){Fm(n)&&Ym(t)})}function Fm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!on(t,r)}catch{return!0}}function Ym(t){var n=qs(t,2);n!==null&&mn(n,t,2)}function wh(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),ls){an(!0);try{r()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},n}function Km(t,n,r,l){return t.baseState=r,bh(t,Ft,typeof l=="function"?l:Di)}function tE(t,n,r,l,c){if(ru(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Xm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Xm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Zm(t,n,E)}catch(P){Dh(t,n,P)}finally{H.T=f}}else try{f=r(c,l),Zm(t,n,f)}catch(P){Dh(t,n,P)}}function Zm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){$m(t,n,l)},function(l){return Dh(t,n,l)}):$m(t,n,r)}function $m(t,n,r){n.status="fulfilled",n.value=r,Jm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Xm(t,r)))}function Dh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Jm(n),n=n.next;while(n!==l)}t.action=null}function Jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Wm(t,n){return n}function tg(t,n){if(Bt){var r=$t.formState;if(r!==null){t:{var l=St;if(Bt){if(ae){e:{for(var c=ae,f=Jn;c.nodeType!==8;){if(!f){c=null;break e}if(c=zn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=zn(c.nextSibling),l=c.data==="F!";break t}}is(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:n},r.queue=l,r=vg.bind(null,St,l),l.dispatch=r,l=wh(!1),f=xh.bind(null,St,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=tE.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function eg(t){var n=ge();return ng(n,Ft,t)}function ng(t,n,r){if(n=bh(t,n,Wm)[0],t=eu(Di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=gl(n)}catch(y){throw y===ul?Xo:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,$s(9,nu(),eE.bind(null,c,r),null)),[l,f,t]}function eE(t,n){t.action=n}function ig(t){var n=ge(),r=Ft;if(r!==null)return ng(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function $s(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Ah(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function nu(){return{destroy:void 0,resource:void 0}}function rg(){return ge().memoizedState}function iu(t,n,r,l){var c=We();l=l===void 0?null:l,St.flags|=t,c.memoizedState=$s(1|n,nu(),r,l)}function pl(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&yh(l,Ft.memoizedState.deps)?c.memoizedState=$s(n,f,r,l):(St.flags|=t,c.memoizedState=$s(1|n,f,r,l))}function sg(t,n){iu(8390656,8,t,n)}function ag(t,n){pl(2048,8,t,n)}function lg(t,n){return pl(4,2,t,n)}function og(t,n){return pl(4,4,t,n)}function ug(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function cg(t,n,r){r=r!=null?r.concat([t]):null,pl(4,4,ug.bind(null,n,t),r)}function Ch(){}function hg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&yh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function fg(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&yh(n,l[1]))return l[0];if(l=t(),ls){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l}function Vh(t,n,r){return r===void 0||(Zi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=gp(),St.lanes|=t,ir|=t,r)}function dg(t,n,r,l){return on(r,n)?r:Ks.current!==null?(t=Vh(t,r,l),on(t,n)||(Ie=!0),t):(Zi&42)===0?(Ie=!0,t.memoizedState=r):(t=gp(),St.lanes|=t,ir|=t,n)}function mg(t,n,r,l,c){var f=nt.p;nt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,xh(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=$0(b,l);yl(t,n,G,dn(t))}else yl(t,n,l,dn(t))}catch(K){yl(t,n,{then:function(){},status:"rejected",reason:K},dn())}finally{nt.p=f,H.T=y}}function nE(){}function Ih(t,n,r,l){if(t.tag!==5)throw Error(s(476));var c=gg(t).queue;mg(t,c,n,ut,r===null?nE:function(){return pg(t),r(l)})}function gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pg(t){var n=gg(t).next.queue;yl(t,n,{},dn())}function Nh(){return Ge(Ul)}function yg(){return ge().memoizedState}function _g(){return ge().memoizedState}function iE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=dn();t=Ki(r);var l=Xi(n,t,r);l!==null&&(mn(l,n,r),hl(l,n,r)),n={cache:lh()},t.payload=n;return}n=n.return}}function rE(t,n,r){var l=dn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ru(t)?Eg(n,r):(r=$c(t,n,r,l),r!==null&&(mn(r,t,l),Tg(r,n,l)))}function vg(t,n,r){var l=dn();yl(t,n,r,l)}function yl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ru(t))Eg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,on(E,y))return jo(t,n,c,0),$t===null&&ko(),!1}catch{}finally{}if(r=$c(t,n,c,l),r!==null)return mn(r,t,l),Tg(r,n,l),!0}return!1}function xh(t,n,r,l){if(l={lane:2,revertLane:hf(),action:l,hasEagerState:!1,eagerState:null,next:null},ru(t)){if(n)throw Error(s(479))}else n=$c(t,r,l,2),n!==null&&mn(n,t,2)}function ru(t){var n=t.alternate;return t===St||n!==null&&n===St}function Eg(t,n){Xs=Jo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Tg(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Ba(t,r)}}var su={readContext:Ge,use:tu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Ag={readContext:Ge,use:tu,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:sg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,iu(4194308,4,ug.bind(null,n,t),r)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(ls){an(!0);try{t()}finally{an(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(ls){an(!0);try{r(n)}finally{an(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=rE.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=wh(t);var n=t.queue,r=vg.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Ch,useDeferredValue:function(t,n){var r=We();return Vh(r,t,n)},useTransition:function(){var t=wh(!1);return t=mg.bind(null,St,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=We();if(Bt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),$t===null)throw Error(s(349));(xt&124)!==0||Hm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,sg(Qm.bind(null,l,f,t),[t]),l.flags|=2048,$s(9,nu(),Gm.bind(null,l,f,r,n),null),r},useId:function(){var t=We(),n=$t.identifierPrefix;if(Bt){var r=bi,l=Si;r=(l&~(1<<32-He(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Wo++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=J0++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Nh,useFormState:tg,useActionState:tg,useOptimistic:function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=xh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:Sh,useCacheRefresh:function(){return We().memoizedState=iE.bind(null,St)}},Sg={readContext:Ge,use:tu,useCallback:hg,useContext:Ge,useEffect:ag,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:eu,useRef:rg,useState:function(){return eu(Di)},useDebugValue:Ch,useDeferredValue:function(t,n){var r=ge();return dg(r,Ft.memoizedState,t,n)},useTransition:function(){var t=eu(Di)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:qm,useId:yg,useHostTransitionStatus:Nh,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var r=ge();return Km(r,Ft,t,n)},useMemoCache:Sh,useCacheRefresh:_g},sE={readContext:Ge,use:tu,useCallback:hg,useContext:Ge,useEffect:ag,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:Rh,useRef:rg,useState:function(){return Rh(Di)},useDebugValue:Ch,useDeferredValue:function(t,n){var r=ge();return Ft===null?Vh(r,t,n):dg(r,Ft.memoizedState,t,n)},useTransition:function(){var t=Rh(Di)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:gl(t),n]},useSyncExternalStore:qm,useId:yg,useHostTransitionStatus:Nh,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var r=ge();return Ft!==null?Km(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:Sh,useCacheRefresh:_g},Js=null,_l=0;function au(t){var n=_l;return _l+=1,Js===null&&(Js=[]),Om(Js,t,n)}function vl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function lu(t,n){throw n.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function bg(t){var n=t._init;return n(t._payload)}function Rg(t){function n(O,I){if(t){var z=O.deletions;z===null?(O.deletions=[I],O.flags|=16):z.push(I)}}function r(O,I){if(!t)return null;for(;I!==null;)n(O,I),I=I.sibling;return null}function l(O){for(var I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function c(O,I){return O=Ai(O,I),O.index=0,O.sibling=null,O}function f(O,I,z){return O.index=z,t?(z=O.alternate,z!==null?(z=z.index,z<I?(O.flags|=67108866,I):z):(O.flags|=67108866,I)):(O.flags|=1048576,I)}function y(O){return t&&O.alternate===null&&(O.flags|=67108866),O}function E(O,I,z,Q){return I===null||I.tag!==6?(I=Wc(z,O.mode,Q),I.return=O,I):(I=c(I,z),I.return=O,I)}function b(O,I,z,Q){var at=z.type;return at===Y?G(O,I,z.props.children,Q,z.key):I!==null&&(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&bg(at)===I.type)?(I=c(I,z.props),vl(I,z),I.return=O,I):(I=Ho(z.type,z.key,z.props,null,O.mode,Q),vl(I,z),I.return=O,I)}function P(O,I,z,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=th(z,O.mode,Q),I.return=O,I):(I=c(I,z.children||[]),I.return=O,I)}function G(O,I,z,Q,at){return I===null||I.tag!==7?(I=Wr(z,O.mode,Q,at),I.return=O,I):(I=c(I,z),I.return=O,I)}function K(O,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Wc(""+I,O.mode,z),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case w:return z=Ho(I.type,I.key,I.props,null,O.mode,z),vl(z,I),z.return=O,z;case k:return I=th(I,O.mode,z),I.return=O,I;case S:var Q=I._init;return I=Q(I._payload),K(O,I,z)}if(re(I)||U(I))return I=Wr(I,O.mode,z,null),I.return=O,I;if(typeof I.then=="function")return K(O,au(I),z);if(I.$$typeof===ht)return K(O,Yo(O,I),z);lu(O,I)}return null}function B(O,I,z,Q){var at=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(O,I,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case w:return z.key===at?b(O,I,z,Q):null;case k:return z.key===at?P(O,I,z,Q):null;case S:return at=z._init,z=at(z._payload),B(O,I,z,Q)}if(re(z)||U(z))return at!==null?null:G(O,I,z,Q,null);if(typeof z.then=="function")return B(O,I,au(z),Q);if(z.$$typeof===ht)return B(O,I,Yo(O,z),Q);lu(O,z)}return null}function j(O,I,z,Q,at){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return O=O.get(z)||null,E(I,O,""+Q,at);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return O=O.get(Q.key===null?z:Q.key)||null,b(I,O,Q,at);case k:return O=O.get(Q.key===null?z:Q.key)||null,P(I,O,Q,at);case S:var Rt=Q._init;return Q=Rt(Q._payload),j(O,I,z,Q,at)}if(re(Q)||U(Q))return O=O.get(z)||null,G(I,O,Q,at,null);if(typeof Q.then=="function")return j(O,I,z,au(Q),at);if(Q.$$typeof===ht)return j(O,I,z,Yo(I,Q),at);lu(I,Q)}return null}function yt(O,I,z,Q){for(var at=null,Rt=null,ot=I,gt=I=0,xe=null;ot!==null&&gt<z.length;gt++){ot.index>gt?(xe=ot,ot=null):xe=ot.sibling;var Lt=B(O,ot,z[gt],Q);if(Lt===null){ot===null&&(ot=xe);break}t&&ot&&Lt.alternate===null&&n(O,ot),I=f(Lt,I,gt),Rt===null?at=Lt:Rt.sibling=Lt,Rt=Lt,ot=xe}if(gt===z.length)return r(O,ot),Bt&&es(O,gt),at;if(ot===null){for(;gt<z.length;gt++)ot=K(O,z[gt],Q),ot!==null&&(I=f(ot,I,gt),Rt===null?at=ot:Rt.sibling=ot,Rt=ot);return Bt&&es(O,gt),at}for(ot=l(ot);gt<z.length;gt++)xe=j(ot,O,gt,z[gt],Q),xe!==null&&(t&&xe.alternate!==null&&ot.delete(xe.key===null?gt:xe.key),I=f(xe,I,gt),Rt===null?at=xe:Rt.sibling=xe,Rt=xe);return t&&ot.forEach(function(fr){return n(O,fr)}),Bt&&es(O,gt),at}function mt(O,I,z,Q){if(z==null)throw Error(s(151));for(var at=null,Rt=null,ot=I,gt=I=0,xe=null,Lt=z.next();ot!==null&&!Lt.done;gt++,Lt=z.next()){ot.index>gt?(xe=ot,ot=null):xe=ot.sibling;var fr=B(O,ot,Lt.value,Q);if(fr===null){ot===null&&(ot=xe);break}t&&ot&&fr.alternate===null&&n(O,ot),I=f(fr,I,gt),Rt===null?at=fr:Rt.sibling=fr,Rt=fr,ot=xe}if(Lt.done)return r(O,ot),Bt&&es(O,gt),at;if(ot===null){for(;!Lt.done;gt++,Lt=z.next())Lt=K(O,Lt.value,Q),Lt!==null&&(I=f(Lt,I,gt),Rt===null?at=Lt:Rt.sibling=Lt,Rt=Lt);return Bt&&es(O,gt),at}for(ot=l(ot);!Lt.done;gt++,Lt=z.next())Lt=j(ot,O,gt,Lt.value,Q),Lt!==null&&(t&&Lt.alternate!==null&&ot.delete(Lt.key===null?gt:Lt.key),I=f(Lt,I,gt),Rt===null?at=Lt:Rt.sibling=Lt,Rt=Lt);return t&&ot.forEach(function(aT){return n(O,aT)}),Bt&&es(O,gt),at}function Kt(O,I,z,Q){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case w:t:{for(var at=z.key;I!==null;){if(I.key===at){if(at=z.type,at===Y){if(I.tag===7){r(O,I.sibling),Q=c(I,z.props.children),Q.return=O,O=Q;break t}}else if(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===S&&bg(at)===I.type){r(O,I.sibling),Q=c(I,z.props),vl(Q,z),Q.return=O,O=Q;break t}r(O,I);break}else n(O,I);I=I.sibling}z.type===Y?(Q=Wr(z.props.children,O.mode,Q,z.key),Q.return=O,O=Q):(Q=Ho(z.type,z.key,z.props,null,O.mode,Q),vl(Q,z),Q.return=O,O=Q)}return y(O);case k:t:{for(at=z.key;I!==null;){if(I.key===at)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){r(O,I.sibling),Q=c(I,z.children||[]),Q.return=O,O=Q;break t}else{r(O,I);break}else n(O,I);I=I.sibling}Q=th(z,O.mode,Q),Q.return=O,O=Q}return y(O);case S:return at=z._init,z=at(z._payload),Kt(O,I,z,Q)}if(re(z))return yt(O,I,z,Q);if(U(z)){if(at=U(z),typeof at!="function")throw Error(s(150));return z=at.call(z),mt(O,I,z,Q)}if(typeof z.then=="function")return Kt(O,I,au(z),Q);if(z.$$typeof===ht)return Kt(O,I,Yo(O,z),Q);lu(O,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(r(O,I.sibling),Q=c(I,z),Q.return=O,O=Q):(r(O,I),Q=Wc(z,O.mode,Q),Q.return=O,O=Q),y(O)):r(O,I)}return function(O,I,z,Q){try{_l=0;var at=Kt(O,I,z,Q);return Js=null,at}catch(ot){if(ot===ul||ot===Xo)throw ot;var Rt=un(29,ot,null,O.mode);return Rt.lanes=Q,Rt.return=O,Rt}finally{}}}var Ws=Rg(!0),wg=Rg(!1),Dn=$(null),Wn=null;function $i(t){var n=t.alternate;W(be,be.current&1),W(Dn,t),Wn===null&&(n===null||Ks.current!==null||n.memoizedState!==null)&&(Wn=t)}function Dg(t){if(t.tag===22){if(W(be,be.current),W(Dn,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else Ji()}function Ji(){W(be,be.current),W(Dn,Dn.current)}function Ci(t){it(Dn),Wn===t&&(Wn=null),it(be)}var be=$(0);function ou(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Sf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Mh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Oh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=dn(),c=Ki(l);c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(mn(n,t,l),hl(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=dn(),c=Ki(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Xi(t,c,l),n!==null&&(mn(n,t,l),hl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=dn(),l=Ki(r);l.tag=2,n!=null&&(l.callback=n),n=Xi(t,l,r),n!==null&&(mn(n,t,r),hl(n,t,r))}};function Cg(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!el(r,l)||!el(c,f):!0}function Vg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function os(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ig(t){uu(t)}function Ng(t){console.error(t)}function xg(t){uu(t)}function cu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Mg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uh(t,n,r){return r=Ki(r),r.tag=3,r.payload={element:null},r.callback=function(){cu(t,n)},r}function Og(t){return t=Ki(t),t.tag=3,t}function Ug(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Mg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Mg(n,r,l),typeof c!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function aE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&al(n,r,c,!0),r=Dn.current,r!==null){switch(r.tag){case 13:return Wn===null?af():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===ch?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),of(t,l,c)),!1;case 22:return r.flags|=65536,l===ch?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),of(t,l,c)),!1}throw Error(s(435,r.tag))}return of(t,l,c),af(),!1}if(Bt)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ih&&(t=Error(s(422),{cause:l}),sl(Sn(t,r)))):(l!==ih&&(n=Error(s(423),{cause:l}),sl(Sn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Sn(l,r),c=Uh(t.stateNode,l,c),dh(t,c),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:l});if(f=Sn(f,r),wl===null?wl=[f]:wl.push(f),le!==4&&(le=2),n===null)return!0;l=Sn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Uh(r.stateNode,l,t),dh(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(rr===null||!rr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Og(c),Ug(c,t,r,l),dh(r,c),!1}r=r.return}while(r!==null);return!1}var Lg=Error(s(461)),Ie=!1;function ze(t,n,r,l){n.child=t===null?wg(n,null,r,l):Ws(n,t.child,r,l)}function zg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ss(n),l=_h(t,n,r,y,f,c),E=vh(),t!==null&&!Ie?(Eh(t,n,c),Vi(t,n,c)):(Bt&&E&&eh(n),n.flags|=1,ze(t,n,l,c),n.child)}function Pg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Bg(t,n,f,l,c)):(t=Ho(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:el,r(y,l)&&t.ref===n.ref)return Vi(t,n,c)}return n.flags|=1,t=Ai(f,l),t.ref=n.ref,t.return=n,n.child=t}function Bg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(el(f,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=f,Hh(t,c))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Vi(t,n,c)}return Lh(t,n,r,l,c)}function kg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return jg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ko(n,f!==null?f.cachePool:null),f!==null?Bm(n,f):gh(),Dg(n);else return n.lanes=n.childLanes=536870912,jg(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Ko(n,f.cachePool),Bm(n,f),Ji(),n.memoizedState=null):(t!==null&&Ko(n,null),gh(),Ji());return ze(t,n,c,r),n.child}function jg(t,n,r,l){var c=uh();return c=c===null?null:{parent:Se._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Ko(n,null),gh(),Dg(n),t!==null&&al(t,n,l,!0),null}function hu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Lh(t,n,r,l,c){return ss(n),r=_h(t,n,r,l,void 0,c),l=vh(),t!==null&&!Ie?(Eh(t,n,c),Vi(t,n,c)):(Bt&&l&&eh(n),n.flags|=1,ze(t,n,r,c),n.child)}function qg(t,n,r,l,c,f){return ss(n),n.updateQueue=null,r=jm(n,l,r,c),km(t),l=vh(),t!==null&&!Ie?(Eh(t,n,f),Vi(t,n,f)):(Bt&&l&&eh(n),n.flags|=1,ze(t,n,r,f),n.child)}function Hg(t,n,r,l,c){if(ss(n),n.stateNode===null){var f=Hs,y=r.contextType;typeof y=="object"&&y!==null&&(f=Ge(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Ge(y):Hs,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Mh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Oh.enqueueReplaceState(f,f.state,null),dl(n,l,f,c),fl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=os(r,E);f.props=b;var P=f.context,G=r.contextType;y=Hs,typeof G=="object"&&G!==null&&(y=Ge(G));var K=r.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&Vg(n,f,l,y),Yi=!1;var B=n.memoizedState;f.state=B,dl(n,l,f,c),fl(),P=n.memoizedState,E||B!==P||Yi?(typeof K=="function"&&(Mh(n,r,K,l),P=n.memoizedState),(b=Yi||Cg(n,r,b,l,B,P,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,fh(t,n),y=n.memoizedProps,G=os(r,y),f.props=G,K=n.pendingProps,B=f.context,P=r.contextType,b=Hs,typeof P=="object"&&P!==null&&(b=Ge(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||B!==b)&&Vg(n,f,l,b),Yi=!1,B=n.memoizedState,f.state=B,dl(n,l,f,c),fl();var j=n.memoizedState;y!==K||B!==j||Yi||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof E=="function"&&(Mh(n,r,E,l),j=n.memoizedState),(G=Yi||Cg(n,r,G,l,B,j,b)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,j,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,j,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,hu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ws(n,t.child,null,c),n.child=Ws(n,null,r,c)):ze(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Vi(t,n,c),t}function Gg(t,n,r,l){return rl(),n.flags|=256,ze(t,n,r,l),n.child}var zh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ph(t){return{baseLanes:t,cachePool:Nm()}}function Bh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function Qg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?$i(n):Ji(),Bt){var E=ae,b;if(b=E){t:{for(b=E,E=Jn;b.nodeType!==8;){if(!E){E=null;break t}if(b=zn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:ts!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},b=un(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Je=n,ae=null,b=!0):b=!1}b||is(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Sf(E)?n.lanes=32:n.lanes=536870912,null;Ci(n)}return E=l.children,l=l.fallback,c?(Ji(),c=n.mode,E=fu({mode:"hidden",children:E},c),l=Wr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Ph(r),c.childLanes=Bh(t,y,r),n.memoizedState=zh,l):($i(n),kh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?($i(n),n.flags&=-257,n=jh(t,n,r)):n.memoizedState!==null?(Ji(),n.child=t.child,n.flags|=128,n=null):(Ji(),c=l.fallback,E=n.mode,l=fu({mode:"visible",children:l.children},E),c=Wr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ws(n,t.child,null,r),l=n.child,l.memoizedState=Ph(r),l.childLanes=Bh(t,y,r),n.memoizedState=zh,n=c);else if($i(n),Sf(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(s(419)),l.stack="",l.digest=y,sl({value:l,source:null,stack:null}),n=jh(t,n,r)}else if(Ie||al(t,n,r,!1),y=(r&t.childLanes)!==0,Ie||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Bi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,qs(t,l),mn(y,t,l),Lg;E.data==="$?"||af(),n=jh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=zn(E.nextSibling),Je=n,Bt=!0,ns=null,Jn=!1,t!==null&&(Rn[wn++]=Si,Rn[wn++]=bi,Rn[wn++]=ts,Si=t.id,bi=t.overflow,ts=n),n=kh(n,l.children),n.flags|=4096);return n}return c?(Ji(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=Ai(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=Ai(P,c):(c=Wr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Ph(r):(b=E.cachePool,b!==null?(P=Se._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=Nm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Bh(t,y,r),n.memoizedState=zh,l):($i(n),r=t.child,t=r.sibling,r=Ai(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function kh(t,n){return n=fu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fu(t,n){return t=un(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function jh(t,n,r){return Ws(n,t.child,null,r),t=kh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sh(t.return,n,r)}function qh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Yg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(ze(t,n,l.children,r),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,r,n);else if(t.tag===19)Fg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(W(be,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&ou(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),qh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ou(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}qh(n,!0,r,null,f);break;case"together":qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),ir|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(al(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,r=Ai(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Ai(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Hh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function lE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Fi(n,Se,t.memoizedState.cache),rl();break;case 27:case 5:Pi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Fi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($i(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Qg(t,n,r):($i(n),t=Vi(t,n,r),t!==null?t.sibling:null);$i(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(al(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Yg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),W(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,kg(t,n,r);case 24:Fi(n,Se,t.memoizedState.cache)}return Vi(t,n,r)}function Kg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Hh(t,r)&&(n.flags&128)===0)return Ie=!1,lE(t,n,r);Ie=(t.flags&131072)!==0}else Ie=!1,Bt&&(n.flags&1048576)!==0&&bm(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Jc(l)?(t=os(l,t),n.tag=1,n=Hg(null,n,l,t,r)):(n.tag=0,n=Lh(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Ut){n.tag=11,n=zg(null,n,l,t,r);break t}else if(c===x){n.tag=14,n=Pg(null,n,l,t,r);break t}}throw n=Oe(l)||l,Error(s(306,n,""))}}return n;case 0:return Lh(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=os(l,n.pendingProps),Hg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,fh(t,n),dl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,Fi(n,Se,l),l!==f.cache&&ah(n,[Se],r,!0),fl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Gg(t,n,l,r);break t}else if(l!==c){c=Sn(Error(s(424)),n),sl(c),n=Gg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=zn(t.firstChild),Je=n,Bt=!0,ns=null,Jn=!0,r=wg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(rl(),l===c){n=Vi(t,n,r);break t}ze(t,n,l,r)}n=n.child}return n;case 26:return hu(t,n),t===null?(r=Jp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=wu(_t.current).createElement(r),l[Ee]=n,l[fe]=t,Be(l,r,t),oe(l),n.stateNode=l):n.memoizedState=Jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pi(n),t===null&&Bt&&(l=n.stateNode=Xp(n.type,n.pendingProps,_t.current),Je=n,Jn=!0,c=ae,lr(n.type)?(bf=c,ae=zn(l.firstChild)):ae=c),ze(t,n,n.pendingProps.children,r),hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=ae)&&(l=UE(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,Je=n,ae=zn(l.firstChild),Jn=!1,c=!0):c=!1),c||is(n)),Pi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,Ef(c,f)?l=null:y!==null&&Ef(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=_h(t,n,W0,null,null,r),Ul._currentValue=c),hu(t,n),ze(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=ae)&&(r=LE(r,n.pendingProps,Jn),r!==null?(n.stateNode=r,Je=n,ae=null,t=!0):t=!1),t||is(n)),null;case 13:return Qg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ws(n,null,l,r):ze(t,n,l,r),n.child;case 11:return zg(t,n,n.type,n.pendingProps,r);case 7:return ze(t,n,n.pendingProps,r),n.child;case 8:return ze(t,n,n.pendingProps.children,r),n.child;case 12:return ze(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Fi(n,n.type,l.value),ze(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ss(n),c=Ge(c),l=l(c),n.flags|=1,ze(t,n,l,r),n.child;case 14:return Pg(t,n,n.type,n.pendingProps,r);case 15:return Bg(t,n,n.type,n.pendingProps,r);case 19:return Yg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=fu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=Ai(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return kg(t,n,r);case 24:return ss(n),l=Ge(Se),t===null?(c=uh(),c===null&&(c=$t,f=lh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},hh(n),Fi(n,Se,c)):((t.lanes&r)!==0&&(fh(t,n),dl(n,null,null,r),fl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Fi(n,Se,l)):(l=f.cache,Fi(n,Se,l),l!==c.cache&&ah(n,[Se],r,!0))),ze(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ii(t){t.flags|=4}function Xg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iy(n)){if(n=Dn.current,n!==null&&((xt&4194048)===xt?Wn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Wn))throw cl=ch,xm;t.flags|=8192}}function du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?za():536870912,t.lanes|=n,ia|=n)}function El(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function oE(t,n,r){var l=n.pendingProps;switch(nh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),wi(Se),kn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(il(n)?Ii(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Dm())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Ii(n),r!==null?(ne(n),Xg(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ii(n),ne(n),Xg(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ii(n),ne(n),n.flags&=-16777217),null;case 27:ui(n),r=_t.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=dt.current,il(n)?Rm(n):(t=Xp(c,l,r),n.stateNode=t,Ii(n))}return ne(n),null;case 5:if(ui(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=dt.current,il(n))Rm(n);else{switch(c=wu(_t.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ee]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Be(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ii(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ii(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=_t.current,il(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||qp(t.nodeValue,r)),t||is(n)}else t=wu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=il(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ee]=n}else rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=Dm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ci(n),n):(Ci(n),null)}if(Ci(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),du(n,n.updateQueue),ne(n),null;case 4:return kn(),t===null&&gf(n.stateNode.containerInfo),ne(n),null;case 10:return wi(n.type),ne(n),null;case 19:if(it(be),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)El(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ou(t),f!==null){for(n.flags|=128,El(c,!1),t=f.updateQueue,n.updateQueue=t,du(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Sm(r,t),r=r.sibling;return W(be,be.current&1|2),n.child}t=t.sibling}c.tail!==null&&yn()>pu&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304)}else{if(!l)if(t=ou(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,du(n,t),El(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*yn()-c.renderingStartTime>pu&&r!==536870912&&(n.flags|=128,l=!0,El(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=yn(),n.sibling=null,t=be.current,W(be,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Ci(n),ph(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&du(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&it(as),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),wi(Se),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function uE(t,n){switch(nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return wi(Se),kn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ui(n),null;case 13:if(Ci(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));rl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return it(be),null;case 4:return kn(),null;case 10:return wi(n.type),null;case 22:case 23:return Ci(n),ph(),t!==null&&it(as),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return wi(Se),null;case 25:return null;default:return null}}function Zg(t,n){switch(nh(n),n.tag){case 3:wi(Se),kn();break;case 26:case 27:case 5:ui(n);break;case 4:kn();break;case 13:Ci(n);break;case 19:it(be);break;case 10:wi(n.type);break;case 22:case 23:Ci(n),ph(),t!==null&&it(as);break;case 24:wi(Se)}}function Tl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Wi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function $g(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Pm(n,r)}catch(l){Xt(t,t.return,l)}}}function Jg(t,n,r){r.props=os(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Al(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function ti(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Wg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Gh(t,n,r){try{var l=t.stateNode;IE(l,t.type,r,n),l[fe]=n}catch(c){Xt(t,t.return,c)}}function tp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&lr(t.type)||t.tag===4}function Qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&lr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ru));else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Fh(t,n,r),t=t.sibling;t!==null;)Fh(t,n,r),t=t.sibling}function mu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&lr(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(mu(t,n,r),t=t.sibling;t!==null;)mu(t,n,r),t=t.sibling}function ep(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Be(n,l,r),n[Ee]=t,n[fe]=r}catch(f){Xt(t,t.return,f)}}var Ni=!1,ce=!1,Yh=!1,np=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function cE(t,n){if(t=t.containerInfo,_f=xu,t=dm(t),Qc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,G=0,K=t,B=null;e:for(;;){for(var j;K!==r||c!==0&&K.nodeType!==3||(E=y+c),K!==f||l!==0&&K.nodeType!==3||(b=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(j=K.firstChild)!==null;)B=K,K=j;for(;;){if(K===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++G===l&&(b=y),(j=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=j}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(vf={focusedElem:t,selectionRange:r},xu=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var yt=os(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(yt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Xt(r,r.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Af(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function ip(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:tr(t,r),l&4&&Tl(5,r);break;case 1:if(tr(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=os(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&$g(r),l&512&&Al(r,r.return);break;case 3:if(tr(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Pm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&ep(r);case 26:case 5:tr(t,r),n===null&&l&4&&Wg(r),l&512&&Al(r,r.return);break;case 12:tr(t,r);break;case 13:tr(t,r),l&4&&ap(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=vE.bind(null,r),zE(t,r))));break;case 22:if(l=r.memoizedState!==null||Ni,!l){n=n!==null&&n.memoizedState!==null||ce,c=Ni;var f=ce;Ni=l,(ce=n)&&!f?er(t,r,(r.subtreeFlags&8772)!==0):tr(t,r),Ni=c,ce=f}break;case 30:break;default:tr(t,r)}}function rp(t){var n=t.alternate;n!==null&&(t.alternate=null,rp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,tn=!1;function xi(t,n,r){for(r=r.child;r!==null;)sp(t,n,r),r=r.sibling}function sp(t,n,r){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(se,r)}catch{}switch(r.tag){case 26:ce||ti(r,n),xi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||ti(r,n);var l=ee,c=tn;lr(r.type)&&(ee=r.stateNode,tn=!1),xi(t,n,r),Nl(r.stateNode),ee=l,tn=c;break;case 5:ce||ti(r,n);case 6:if(l=ee,c=tn,ee=null,xi(t,n,r),ee=l,tn=c,ee!==null)if(tn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{ee.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:ee!==null&&(tn?(t=ee,Yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Bl(t)):Yp(ee,r.stateNode));break;case 4:l=ee,c=tn,ee=r.stateNode.containerInfo,tn=!0,xi(t,n,r),ee=l,tn=c;break;case 0:case 11:case 14:case 15:ce||Wi(2,r,n),ce||Wi(4,r,n),xi(t,n,r);break;case 1:ce||(ti(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Jg(r,n,l)),xi(t,n,r);break;case 21:xi(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,xi(t,n,r),ce=l;break;default:xi(t,n,r)}}function ap(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bl(t)}catch(r){Xt(n,n.return,r)}}function hE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new np),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new np),n;default:throw Error(s(435,t.tag))}}function Kh(t,n){var r=hE(t);n.forEach(function(l){var c=EE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function cn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(lr(E.type)){ee=E.stateNode,tn=!1;break t}break;case 5:ee=E.stateNode,tn=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,tn=!0;break t}E=E.return}if(ee===null)throw Error(s(160));sp(f,y,c),ee=null,tn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)lp(n,t),n=n.sibling}var Ln=null;function lp(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(n,t),hn(t),l&4&&(Wi(3,t,t.return),Tl(3,t),Wi(5,t,t.return));break;case 1:cn(n,t),hn(t),l&512&&(ce||r===null||ti(r,r.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Ln;if(cn(n,t),hn(t),l&512&&(ce||r===null||ti(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[zr]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Be(f,l,r),f[Ee]=t,oe(f),l=f;break t;case"link":var y=ey("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;case"meta":if(y=ey("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),Be(f,l,r),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ee]=t,oe(f),l=f}t.stateNode=l}else ny(c,t.type,t.stateNode);else t.stateNode=ty(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?ny(c,t.type,t.stateNode):ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Gh(t,t.memoizedProps,r.memoizedProps)}break;case 27:cn(n,t),hn(t),l&512&&(ce||r===null||ti(r,r.return)),r!==null&&l&4&&Gh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(cn(n,t),hn(t),l&512&&(ce||r===null||ti(r,r.return)),t.flags&32){c=t.stateNode;try{vn(c,"")}catch(j){Xt(t,t.return,j)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Gh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(cn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(j){Xt(t,t.return,j)}}break;case 3:if(Vu=null,c=Ln,Ln=Du(n.containerInfo),cn(n,t),Ln=c,hn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Bl(n.containerInfo)}catch(j){Xt(t,t.return,j)}Yh&&(Yh=!1,op(t));break;case 4:l=Ln,Ln=Du(t.stateNode.containerInfo),cn(n,t),hn(t),Ln=l;break;case 12:cn(n,t),hn(t);break;case 13:cn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(tf=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=Ni,G=ce;if(Ni=P||c,ce=G||b,cn(n,t),ce=G,Ni=P,hn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||Ni||ce||us(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var K=b.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(j){Xt(b,b.return,j)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(j){Xt(b,b.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Kh(t,r))));break;case 19:cn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 30:break;case 21:break;default:cn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(tp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var c=r.stateNode,f=Qh(t);mu(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(vn(y,""),r.flags&=-33);var E=Qh(t);mu(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Qh(t);Fh(t,P,b);break;default:throw Error(s(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function op(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function tr(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ip(t,n.alternate,n),n=n.sibling}function us(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Wi(4,n,n.return),us(n);break;case 1:ti(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Jg(n,n.return,r),us(n);break;case 27:Nl(n.stateNode);case 26:case 5:ti(n,n.return),us(n);break;case 22:n.memoizedState===null&&us(n);break;case 30:us(n);break;default:us(n)}t=t.sibling}}function er(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:er(c,f,r),Tl(4,f);break;case 1:if(er(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)zm(b[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&$g(f),Al(f,f.return);break;case 27:ep(f);case 26:case 5:er(c,f,r),r&&l===null&&y&4&&Wg(f),Al(f,f.return);break;case 12:er(c,f,r);break;case 13:er(c,f,r),r&&y&4&&ap(c,f);break;case 22:f.memoizedState===null&&er(c,f,r),Al(f,f.return);break;case 30:break;default:er(c,f,r)}n=n.sibling}}function Xh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ll(r))}function Zh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t))}function ei(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,r,l),n=n.sibling}function up(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n,r,l),c&2048&&Tl(9,n);break;case 1:ei(t,n,r,l);break;case 3:ei(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ll(t)));break;case 12:if(c&2048){ei(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else ei(t,n,r,l);break;case 13:ei(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?ei(t,n,r,l):Sl(t,n):f._visibility&2?ei(t,n,r,l):(f._visibility|=2,ta(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Xh(y,n);break;case 24:ei(t,n,r,l),c&2048&&Zh(n.alternate,n);break;default:ei(t,n,r,l)}}function ta(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:ta(f,y,E,b,c),Tl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?ta(f,y,E,b,c):Sl(f,y):(G._visibility|=2,ta(f,y,E,b,c)),c&&P&2048&&Xh(y.alternate,y);break;case 24:ta(f,y,E,b,c),c&&P&2048&&Zh(y.alternate,y);break;default:ta(f,y,E,b,c)}n=n.sibling}}function Sl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:Sl(r,l),c&2048&&Xh(l.alternate,l);break;case 24:Sl(r,l),c&2048&&Zh(l.alternate,l);break;default:Sl(r,l)}n=n.sibling}}var bl=8192;function ea(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 26:ea(t),t.flags&bl&&t.memoizedState!==null&&ZE(Ln,t.memoizedState,t.memoizedProps);break;case 5:ea(t);break;case 3:case 4:var n=Ln;Ln=Du(t.stateNode.containerInfo),ea(t),Ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,ea(t),bl=n):ea(t));break;default:ea(t)}}function hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Rl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,dp(l,t)}hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(t),t=t.sibling}function fp(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Wi(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gu(t)):Rl(t);break;default:Rl(t)}}function gu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ne=l,dp(l,t)}hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Wi(8,n,n.return),gu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,gu(n));break;default:gu(n)}t=t.sibling}}function dp(t,n){for(;Ne!==null;){var r=Ne;switch(r.tag){case 0:case 11:case 15:Wi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ne=l;else t:for(r=t;Ne!==null;){l=Ne;var c=l.sibling,f=l.return;if(rp(l),l===r){Ne=null;break t}if(c!==null){c.return=f,Ne=c;break t}Ne=f}}}var fE={getCacheForType:function(t){var n=Ge(Se),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},dE=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,wt=null,xt=0,Gt=0,fn=null,nr=!1,na=!1,$h=!1,Mi=0,le=0,ir=0,cs=0,Jh=0,Cn=0,ia=0,wl=null,en=null,Wh=!1,tf=0,pu=1/0,yu=null,rr=null,Pe=0,sr=null,ra=null,sa=0,ef=0,nf=null,mp=null,Dl=0,rf=null;function dn(){if((Ht&2)!==0&&xt!==0)return xt&-xt;if(H.T!==null){var t=Fs;return t!==0?t:hf()}return ki()}function gp(){Cn===0&&(Cn=(xt&536870912)===0||Bt?La():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),Cn}function mn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(aa(t,0),ar(t,xt,Cn,!1)),hi(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(cs|=r),le===4&&ar(t,xt,Cn,!1)),ni(t))}function pp(t,n,r){if((Ht&6)!==0)throw Error(s(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Lr(t,n),c=l?pE(t,n):lf(t,n,!0),f=l;do{if(c===0){na&&!l&&ar(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!mE(r)){c=lf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=wl;var b=E.current.memoizedState.isDehydrated;if(b&&(aa(E,y).flags|=256),y=lf(E,y,!1),y!==2){if($h&&!b){E.errorRecoveryDisabledLanes|=f,cs|=f,c=4;break t}f=en,en=c,f!==null&&(en===null?en=f:en.push.apply(en,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){aa(t,0),ar(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ar(l,n,Cn,!nr);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=tf+300-yn(),10<c)){if(ar(l,n,Cn,!nr),Ss(l,0,!0)!==0)break t;l.timeoutHandle=Qp(yp.bind(null,l,r,en,yu,Wh,n,Cn,cs,ia,nr,f,2,-0,0),c);break t}yp(l,r,en,yu,Wh,n,Cn,cs,ia,nr,f,0,-0,0)}}break}while(!0);ni(t)}function yp(t,n,r,l,c,f,y,E,b,P,G,K,B,j){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:XE},cp(n),K=$E(),K!==null)){t.cancelPendingCommit=K(bp.bind(null,t,n,f,r,l,c,y,E,b,G,1,B,j)),ar(t,f,y,!P);return}bp(t,n,f,r,l,c,y,E,b)}function mE(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ar(t,n,r,l){n&=~Jh,n&=~cs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-He(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&jn(t,r,n)}function _u(){return(Ht&6)===0?(Cl(0),!1):!0}function sf(){if(wt!==null){if(Gt===0)var t=wt.return;else t=wt,Ri=rs=null,Th(t),Js=null,_l=0,t=wt;for(;t!==null;)Zg(t.alternate,t),t=t.return;wt=null}}function aa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,xE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),sf(),$t=t,wt=r=Ai(t.current,null),xt=n,Gt=0,fn=null,nr=!1,na=Lr(t,n),$h=!1,ia=Cn=Jh=cs=ir=le=0,en=wl=null,Wh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-He(l),f=1<<c;n|=t[c],l&=~f}return Mi=n,ko(),r}function _p(t,n){St=null,H.H=su,n===ul||n===Xo?(n=Um(),Gt=3):n===xm?(n=Um(),Gt=4):Gt=n===Lg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,wt===null&&(le=1,cu(t,Sn(n,t.current)))}function vp(){var t=H.H;return H.H=su,t===null?su:t}function Ep(){var t=H.A;return H.A=fE,t}function af(){le=4,nr||(xt&4194048)!==xt&&Dn.current!==null||(na=!0),(ir&134217727)===0&&(cs&134217727)===0||$t===null||ar($t,xt,Cn,!1)}function lf(t,n,r){var l=Ht;Ht|=2;var c=vp(),f=Ep();($t!==t||xt!==n)&&(yu=null,aa(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&wt!==null){var E=wt,b=fn;switch(Gt){case 8:sf(),y=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var P=Gt;if(Gt=0,fn=null,la(t,E,b,P),r&&na){y=0;break t}break;default:P=Gt,Gt=0,fn=null,la(t,E,b,P)}}gE(),y=le;break}catch(G){_p(t,G)}while(!0);return n&&t.shellSuspendCounter++,Ri=rs=null,Ht=l,H.H=c,H.A=f,wt===null&&($t=null,xt=0,ko()),y}function gE(){for(;wt!==null;)Tp(wt)}function pE(t,n){var r=Ht;Ht|=2;var l=vp(),c=Ep();$t!==t||xt!==n?(yu=null,pu=yn()+500,aa(t,n)):na=Lr(t,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=fn;e:switch(Gt){case 1:Gt=0,fn=null,la(t,n,f,1);break;case 2:case 9:if(Mm(f)){Gt=0,fn=null,Ap(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),ni(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Mm(f)?(Gt=0,fn=null,Ap(n)):(Gt=0,fn=null,la(t,n,f,7));break;case 5:var y=null;switch(wt.tag){case 26:y=wt.memoizedState;case 5:case 27:var E=wt;if(!y||iy(y)){Gt=0,fn=null;var b=E.sibling;if(b!==null)wt=b;else{var P=E.return;P!==null?(wt=P,vu(P)):wt=null}break e}}Gt=0,fn=null,la(t,n,f,5);break;case 6:Gt=0,fn=null,la(t,n,f,6);break;case 8:sf(),le=6;break t;default:throw Error(s(462))}}yE();break}catch(G){_p(t,G)}while(!0);return Ri=rs=null,H.H=l,H.A=c,Ht=r,wt!==null?0:($t=null,xt=0,ko(),le)}function yE(){for(;wt!==null&&!xa();)Tp(wt)}function Tp(t){var n=Kg(t.alternate,t,Mi);t.memoizedProps=t.pendingProps,n===null?vu(t):wt=n}function Ap(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=qg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=qg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:Th(n);default:Zg(r,n),n=wt=Sm(n,Mi),n=Kg(r,n,Mi)}t.memoizedProps=t.pendingProps,n===null?vu(t):wt=n}function la(t,n,r,l){Ri=rs=null,Th(n),Js=null,_l=0;var c=n.return;try{if(aE(t,c,n,r,xt)){le=1,cu(t,Sn(r,t.current)),wt=null;return}}catch(f){if(c!==null)throw wt=c,f;le=1,cu(t,Sn(r,t.current)),wt=null;return}n.flags&32768?(Bt||l===1?t=!0:na||(xt&536870912)!==0?t=!1:(nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sp(n,t)):vu(n)}function vu(t){var n=t;do{if((n.flags&32768)!==0){Sp(n,nr);return}t=n.return;var r=oE(n.alternate,n,Mi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=t}while(n!==null);le===0&&(le=5)}function Sp(t,n){do{var r=uE(t.alternate,t);if(r!==null){r.flags&=32767,wt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){wt=t;return}wt=t=r}while(t!==null);le=6,wt=null}function bp(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do Eu();while(Pe!==0);if((Ht&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Zc,Pa(t,r,f,y,E,b),t===$t&&(wt=$t=null,xt=0),ra=n,sr=t,sa=r,ef=f,nf=c,mp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,TE(xr,function(){return Vp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=nt.p,nt.p=2,y=Ht,Ht|=4;try{cE(t,n,r)}finally{Ht=y,nt.p=c,H.T=l}}Pe=1,Rp(),wp(),Dp()}}function Rp(){if(Pe===1){Pe=0;var t=sr,n=ra,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Ht;Ht|=4;try{lp(n,t);var f=vf,y=dm(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&fm(E.ownerDocument.documentElement,E)){if(b!==null&&Qc(E)){var P=b.start,G=b.end;if(G===void 0&&(G=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var j=B.getSelection(),yt=E.textContent.length,mt=Math.min(b.start,yt),Kt=b.end===void 0?mt:Math.min(b.end,yt);!j.extend&&mt>Kt&&(y=Kt,Kt=mt,mt=y);var O=hm(E,mt),I=hm(E,Kt);if(O&&I&&(j.rangeCount!==1||j.anchorNode!==O.node||j.anchorOffset!==O.offset||j.focusNode!==I.node||j.focusOffset!==I.offset)){var z=K.createRange();z.setStart(O.node,O.offset),j.removeAllRanges(),mt>Kt?(j.addRange(z),j.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),j.addRange(z))}}}}for(K=[],j=E;j=j.parentNode;)j.nodeType===1&&K.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}xu=!!_f,vf=_f=null}finally{Ht=c,nt.p=l,H.T=r}}t.current=n,Pe=2}}function wp(){if(Pe===2){Pe=0;var t=sr,n=ra,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=nt.p;nt.p=2;var c=Ht;Ht|=4;try{ip(t,n.alternate,n)}finally{Ht=c,nt.p=l,H.T=r}}Pe=3}}function Dp(){if(Pe===4||Pe===3){Pe=0,go();var t=sr,n=ra,r=sa,l=mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,ra=sr=null,Cp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(rr=null),bs(r),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=nt.p,nt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,nt.p=c}}(sa&3)!==0&&Eu(),ni(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===rf?Dl++:(Dl=0,rf=t):Dl=0,Cl(0)}}function Cp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ll(n)))}function Eu(t){return Rp(),wp(),Dp(),Vp()}function Vp(){if(Pe!==5)return!1;var t=sr,n=ef;ef=0;var r=bs(sa),l=H.T,c=nt.p;try{nt.p=32>r?32:r,H.T=null,r=nf,nf=null;var f=sr,y=sa;if(Pe=0,ra=sr=null,sa=0,(Ht&6)!==0)throw Error(s(331));var E=Ht;if(Ht|=4,fp(f.current),up(f,f.current,y,r),Ht=E,Cl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(se,f)}catch{}return!0}finally{nt.p=c,H.T=l,Cp(t,n)}}function Ip(t,n,r){n=Sn(r,n),n=Uh(t.stateNode,n,2),t=Xi(t,n,2),t!==null&&(hi(t,2),ni(t))}function Xt(t,n,r){if(t.tag===3)Ip(t,t,r);else for(;n!==null;){if(n.tag===3){Ip(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(rr===null||!rr.has(l))){t=Sn(r,t),r=Og(2),l=Xi(n,r,2),l!==null&&(Ug(r,l,n,t),hi(l,2),ni(l));break}}n=n.return}}function of(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new dE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||($h=!0,c.add(r),t=_E.bind(null,t,n,r),n.then(t,t))}function _E(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(xt&r)===r&&(le===4||le===3&&(xt&62914560)===xt&&300>yn()-tf?(Ht&2)===0&&aa(t,0):Jh|=r,ia===xt&&(ia=0)),ni(t)}function Np(t,n){n===0&&(n=za()),t=qs(t,n),t!==null&&(hi(t,n),ni(t))}function vE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Np(t,r)}function EE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Np(t,r)}function TE(t,n){return Ir(t,n)}var Tu=null,oa=null,uf=!1,Au=!1,cf=!1,hs=0;function ni(t){t!==oa&&t.next===null&&(oa===null?Tu=oa=t:oa=oa.next=t),Au=!0,uf||(uf=!0,SE())}function Cl(t,n){if(!cf&&Au){cf=!0;do for(var r=!1,l=Tu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-He(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Up(l,f))}else f=xt,f=Ss(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Lr(l,f)||(r=!0,Up(l,f));l=l.next}while(r);cf=!1}}function AE(){xp()}function xp(){Au=uf=!1;var t=0;hs!==0&&(NE()&&(t=hs),hs=0);for(var n=yn(),r=null,l=Tu;l!==null;){var c=l.next,f=Mp(l,n);f===0?(l.next=null,r===null?Tu=c:r.next=c,c===null&&(oa=r)):(r=l,(t!==0||(f&3)!==0)&&(Au=!0)),l=c}Cl(t)}function Mp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-He(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Ua(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=xt,r=Ss(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Nr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Lr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Nr(l),bs(r)){case 2:case 8:r=Ts;break;case 32:r=xr;break;case 268435456:r=As;break;default:r=xr}return l=Op.bind(null,t),r=Ir(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Nr(l),t.callbackPriority=2,t.callbackNode=null,2}function Op(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Eu()&&t.callbackNode!==r)return null;var l=xt;return l=Ss(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pp(t,l,n),Mp(t,yn()),t.callbackNode!=null&&t.callbackNode===r?Op.bind(null,t):null)}function Up(t,n){if(Eu())return null;pp(t,n,!0)}function SE(){ME(function(){(Ht&6)!==0?Ir(Ma,AE):xp()})}function hf(){return hs===0&&(hs=La()),hs}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Is(""+t)}function zp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function bE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=Lp((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?Lp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ns("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hs!==0){var b=y?zp(c,y):new FormData(c);Ih(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?zp(c,y):new FormData(c),Ih(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var ff=0;ff<Xc.length;ff++){var df=Xc[ff],RE=df.toLowerCase(),wE=df[0].toUpperCase()+df.slice(1);Un(RE,"on"+wE)}Un(pm,"onAnimationEnd"),Un(ym,"onAnimationIteration"),Un(_m,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(H0,"onTransitionRun"),Un(G0,"onTransitionStart"),Un(Q0,"onTransitionCancel"),Un(vm,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function Pp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){uu(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(G){uu(G)}c.currentTarget=null,f=b}}}}function Dt(t,n){var r=n[ka];r===void 0&&(r=n[ka]=new Set);var l=t+"__bubble";r.has(l)||(Bp(n,t,2,!1),r.add(l))}function mf(t,n,r){var l=0;n&&(l|=4),Bp(r,t,l,n)}var Su="_reactListening"+Math.random().toString(36).slice(2);function gf(t){if(!t[Su]){t[Su]=!0,ja.forEach(function(r){r!=="selectionchange"&&(DE.has(r)||mf(r,!1,t),mf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Su]||(n[Su]=!0,mf("selectionchange",!1,n))}}function Bp(t,n,r,l){switch(uy(n)){case 2:var c=tT;break;case 8:c=eT;break;default:c=Vf}r=c.bind(null,n,r,t),c=void 0,!Tn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function pf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=fi(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}Ro(function(){var P=f,G=En(r),K=[];t:{var B=Em.get(t);if(B!==void 0){var j=Ns,yt=t;switch(t){case"keypress":if(Yn(r)===0)break t;case"keydown":case"keyup":j=zs;break;case"focusin":yt="focus",j=Os;break;case"focusout":yt="blur",j=Os;break;case"beforeblur":case"afterblur":j=Os;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Mo;break;case pm:case ym:case _m:j=Us;break;case vm:j=Uo;break;case"scroll":case"scrollend":j=wo;break;case"wheel":j=Ps;break;case"copy":case"cut":case"paste":j=Ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Wa;break;case"toggle":case"beforetoggle":j=zo}var mt=(n&4)!==0,Kt=!mt&&(t==="scroll"||t==="scrollend"),O=mt?B!==null?B+"Capture":null:B;mt=[];for(var I=P,z;I!==null;){var Q=I;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||O===null||(Q=Gr(I,O),Q!=null&&mt.push(Il(I,Q,z))),Kt)break;I=I.return}0<mt.length&&(B=new j(B,yt,null,r,G),K.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",j=t==="mouseout"||t==="pointerout",B&&r!==pi&&(yt=r.relatedTarget||r.fromElement)&&(fi(yt)||yt[_n]))break t;if((j||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,j?(yt=r.relatedTarget||r.toElement,j=P,yt=yt?fi(yt):null,yt!==null&&(Kt=h(yt),mt=yt.tag,yt!==Kt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(j=null,yt=P),j!==yt)){if(mt=An,Q="onMouseLeave",O="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Wa,Q="onPointerLeave",O="onPointerEnter",I="pointer"),Kt=j==null?B:Hn(j),z=yt==null?B:Hn(yt),B=new mt(Q,I+"leave",j,r,G),B.target=Kt,B.relatedTarget=z,Q=null,fi(G)===P&&(mt=new mt(O,I+"enter",yt,r,G),mt.target=z,mt.relatedTarget=Kt,Q=mt),Kt=Q,j&&yt)e:{for(mt=j,O=yt,I=0,z=mt;z;z=ua(z))I++;for(z=0,Q=O;Q;Q=ua(Q))z++;for(;0<I-z;)mt=ua(mt),I--;for(;0<z-I;)O=ua(O),z--;for(;I--;){if(mt===O||O!==null&&mt===O.alternate)break e;mt=ua(mt),O=ua(O)}mt=null}else mt=null;j!==null&&kp(K,B,j,mt,!1),yt!==null&&Kt!==null&&kp(K,Kt,yt,mt,!0)}}t:{if(B=P?Hn(P):window,j=B.nodeName&&B.nodeName.toLowerCase(),j==="select"||j==="input"&&B.type==="file")var at=sm;else if(Ae(B))if(am)at=k0;else{at=P0;var Rt=z0}else j=B.nodeName,!j||j.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Fa(P.elementType)&&(at=sm):at=B0;if(at&&(at=at(t,P))){Ti(K,at,r,G);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Gi(B,"number",B.value)}switch(Rt=P?Hn(P):window,t){case"focusin":(Ae(Rt)||Rt.contentEditable==="true")&&(Bs=Rt,Fc=P,nl=null);break;case"focusout":nl=Fc=Bs=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,mm(K,r,G);break;case"selectionchange":if(q0)break;case"keydown":case"keyup":mm(K,r,G)}var ot;if(Zn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else It?q(t,r)&&(gt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(gt="onCompositionStart");gt&&(p&&r.locale!=="ko"&&(It||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&It&&(ot=Ka()):(Fn=G,Qi="value"in Fn?Fn.value:Fn.textContent,It=!0)),Rt=bu(P,gt),0<Rt.length&&(gt=new $a(gt,t,null,r,G),K.push({event:gt,listeners:Rt}),ot?gt.data=ot:(ot=et(r),ot!==null&&(gt.data=ot)))),(ot=m?Te(t,r):Nt(t,r))&&(gt=bu(P,"onBeforeInput"),0<gt.length&&(Rt=new $a("onBeforeInput","beforeinput",null,r,G),K.push({event:Rt,listeners:gt}),Rt.data=ot)),bE(K,t,P,r,G)}Pp(K,n)})}function Il(t,n,r){return{instance:t,listener:n,currentTarget:r}}function bu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Gr(t,r),c!=null&&l.unshift(Il(t,c,f)),c=Gr(t,n),c!=null&&l.push(Il(t,c,f))),t.tag===3)return l;t=t.return}return[]}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function kp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Gr(r,f),P!=null&&y.unshift(Il(r,P,b))):c||(P=Gr(r,f),P!=null&&y.push(Il(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var CE=/\r\n?/g,VE=/\u0000|\uFFFD/g;function jp(t){return(typeof t=="string"?t:""+t).replace(CE,`
`).replace(VE,"")}function qp(t,n){return n=jp(n),jp(t)===n}function Ru(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||vn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&vn(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,r,l);break;case"style":Qa(t,l,f);break;case"data":if(n!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Is(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Is(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Is(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Hi(t,"popover",l);break;case"xlinkActuate":Ue(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ue(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ue(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ue(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ue(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ue(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ue(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Bc.get(r)||r,Hi(t,r,l))}}function yf(t,n,r,l,c,f){switch(r){case"style":Qa(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?vn(t,l):(typeof l=="number"||typeof l=="bigint")&&vn(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rs.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Hi(t,r,l)}}}function Be(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Dt("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":P=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(t,n,l,G,r,null)}}jr(t,f,E,b,P,y,c,!1),Vs(t);return;case"select":Dt("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?gi(t,!!l,n,!1):r!=null&&gi(t,!!l,r,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,y,E,r,null)}qr(t,l,c,f),Vs(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Dt(Vl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(Fa(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&yf(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function IE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,G=null;for(j in r){var K=r[j];if(r.hasOwnProperty(j)&&K!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=K;default:l.hasOwnProperty(j)||Yt(t,n,j,null,l,K)}}for(var B in l){var j=l[B];if(K=r[B],l.hasOwnProperty(B)&&(j!=null||K!=null))switch(B){case"type":f=j;break;case"name":c=j;break;case"checked":P=j;break;case"defaultChecked":G=j;break;case"value":y=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==K&&Yt(t,n,B,j,l,K)}}ln(t,y,E,b,P,G,f,c);return;case"select":j=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":j=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=j,B!=null?gi(t,!!r,B,!1):!!l!=!!r&&(n!=null?gi(t,!!r,n,!0):gi(t,!!r,r?[]:"",!1));return;case"textarea":j=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,B,j);return;case"option":for(var yt in r)if(B=r[yt],r.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt))switch(yt){case"selected":t.selected=!1;break;default:Yt(t,n,yt,null,l,B)}for(b in l)if(B=l[b],j=r[b],l.hasOwnProperty(b)&&B!==j&&(B!=null||j!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt)&&Yt(t,n,mt,null,l,B);for(P in l)if(B=l[P],j=r[P],l.hasOwnProperty(P)&&B!==j&&(B!=null||j!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,P,B,l,j)}return;default:if(Fa(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&yf(t,n,Kt,void 0,l,B);for(G in l)B=l[G],j=r[G],!l.hasOwnProperty(G)||B===j||B===void 0&&j===void 0||yf(t,n,G,B,l,j);return}}for(var O in r)B=r[O],r.hasOwnProperty(O)&&B!=null&&!l.hasOwnProperty(O)&&Yt(t,n,O,null,l,B);for(K in l)B=l[K],j=r[K],!l.hasOwnProperty(K)||B===j||B==null&&j==null||Yt(t,n,K,B,l,j)}var _f=null,vf=null;function wu(t){return t.nodeType===9?t:t.ownerDocument}function Hp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tf=null;function NE(){var t=window.event;return t&&t.type==="popstate"?t===Tf?!1:(Tf=t,!0):(Tf=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,xE=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,ME=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(t){return Fp.resolve(null).then(t).catch(OE)}:Qp;function OE(t){setTimeout(function(){throw t})}function lr(t){return t==="head"}function Yp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Nl(y.documentElement),r&2&&Nl(y.body),r&4)for(r=y.head,Nl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[zr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Bl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Bl(n)}function Af(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Af(r),qi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function UE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function LE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=zn(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function zE(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var bf=null;function Kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Xp(t,n,r){switch(n=wu(r),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);qi(t)}var Vn=new Map,Zp=new Set;function Du(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=nt.d;nt.d={f:PE,r:BE,D:kE,C:jE,L:qE,m:HE,X:QE,S:GE,M:FE};function PE(){var t=Oi.f(),n=_u();return t||n}function BE(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?pg(n):Oi.r(t)}var ca=typeof document>"u"?null:document;function $p(t,n,r){var l=ca;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Zp.has(c)||(Zp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Be(n,"link",t),oe(n),l.head.appendChild(n)))}}function kE(t){Oi.D(t),$p("dns-prefetch",t,null)}function jE(t,n){Oi.C(t,n),$p("preconnect",t,n)}function qE(t,n,r){Oi.L(t,n,r);var l=ca;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=ha(t);break;case"script":f=fa(t)}Vn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Vn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ml(f))||(n=l.createElement("link"),Be(n,"link",t),oe(n),l.head.appendChild(n)))}}function HE(t,n){Oi.m(t,n);var r=ca;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fa(t)}if(!Vn.has(f)&&(t=A({rel:"modulepreload",href:t},n),Vn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ml(f)))return}l=r.createElement("link"),Be(l,"link",t),oe(l),r.head.appendChild(l)}}}function GE(t,n,r){Oi.S(t,n,r);var l=ca;if(l&&t){var c=Xe(l).hoistableStyles,f=ha(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(xl(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Vn.get(f))&&Rf(t,r);var b=y=l.createElement("link");oe(b),Be(b,"link",t),b._p=new Promise(function(P,G){b.onload=P,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Cu(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function QE(t,n){Oi.X(t,n);var r=ca;if(r&&t){var l=Xe(r).hoistableScripts,c=fa(t),f=l.get(c);f||(f=r.querySelector(Ml(c)),f||(t=A({src:t,async:!0},n),(n=Vn.get(c))&&wf(t,n),f=r.createElement("script"),oe(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function FE(t,n){Oi.M(t,n);var r=ca;if(r&&t){var l=Xe(r).hoistableScripts,c=fa(t),f=l.get(c);f||(f=r.querySelector(Ml(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&wf(t,n),f=r.createElement("script"),oe(f),Be(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Jp(t,n,r,l){var c=(c=_t.current)?Du(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ha(r.href),r=Xe(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ha(r.href);var f=Xe(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(xl(t)))&&!f._p&&(y.instance=f,y.state.loading=5),Vn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(t,r),f||YE(c,t,r,y.state))),n&&l===null)throw Error(s(528,""));return y}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fa(r),r=Xe(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ha(t){return'href="'+de(t)+'"'}function xl(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function YE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",r),oe(n),t.head.appendChild(n))}function fa(t){return'[src="'+de(t)+'"]'}function Ml(t){return"script[async]"+t}function ty(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),Be(l,"style",c),Cu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ha(r.href);var f=t.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=Wp(r),(c=Vn.get(c))&&Rf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Be(f,"link",l),n.state.loading|=4,Cu(f,r.precedence,t),n.instance=f;case"script":return f=fa(r.src),(c=t.querySelector(Ml(f)))?(n.instance=c,oe(c),c):(l=r,(c=Vn.get(f))&&(l=A({},r),wf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),Be(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Cu(l,r.precedence,t));return n.instance}function Cu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Vu=null;function ey(t,n,r){if(Vu===null){var l=new Map,c=Vu=new Map;c.set(r,l)}else c=Vu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[zr]||f[Ee]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function ny(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function KE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function XE(){}function ZE(t,n,r){if(Ol===null)throw Error(s(475));var l=Ol;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ha(r.href),f=t.querySelector(xl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Iu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=Wp(r),(c=Vn.get(c))&&Rf(r,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Be(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Iu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function $E(){if(Ol===null)throw Error(s(475));var t=Ol;return t.stylesheets&&t.count===0&&Df(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Df(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Iu(){if(this.count--,this.count===0){if(this.stylesheets)Df(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nu=null;function Df(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nu=new Map,n.forEach(JE,t),Nu=null,Iu.call(t))}function JE(t,n){if(!(n.state.loading&4)){var r=Nu.get(t);if(r)var l=r.get(null);else{r=new Map,Nu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=Iu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ul={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function WE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ry(t,n,r,l,c,f,y,E,b,P,G,K){return t=new WE(t,n,r,y,E,b,P,K),n=1,f===!0&&(n|=24),f=un(3,null,null,n),t.current=f,f.stateNode=t,n=lh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},hh(f),t}function sy(t){return t?(t=Hs,t):Hs}function ay(t,n,r,l,c,f){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=Ki(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Xi(t,l,n),r!==null&&(mn(r,t,n),hl(r,t,n))}function ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function Cf(t,n){ly(t,n),(t=t.alternate)&&ly(t,n)}function oy(t){if(t.tag===13){var n=qs(t,67108864);n!==null&&mn(n,t,67108864),Cf(t,67108864)}}var xu=!0;function tT(t,n,r,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=2,Vf(t,n,r,l)}finally{nt.p=f,H.T=c}}function eT(t,n,r,l){var c=H.T;H.T=null;var f=nt.p;try{nt.p=8,Vf(t,n,r,l)}finally{nt.p=f,H.T=c}}function Vf(t,n,r,l){if(xu){var c=If(l);if(c===null)pf(t,n,l,Mu,r),cy(t,l);else if(iT(c,t,n,r,l))l.stopPropagation();else if(cy(t,l),n&4&&-1<nT.indexOf(t)){for(;c!==null;){var f=qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=xn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-He(y);E.entanglements[1]|=b,y&=~b}ni(f),(Ht&6)===0&&(pu=yn()+500,Cl(0))}}break;case 13:E=qs(f,2),E!==null&&mn(E,f,2),_u(),Cf(f,2)}if(f=If(l),f===null&&pf(t,n,l,Mu,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else pf(t,n,l,null,r)}}function If(t){return t=En(t),Nf(t)}var Mu=null;function Nf(t){if(Mu=null,t=fi(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Mu=t,null}function uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mc()){case Ma:return 2;case Ts:return 8;case xr:case Oc:return 32;case As:return 268435456;default:return 32}default:return 32}}var xf=!1,or=null,ur=null,cr=null,Ll=new Map,zl=new Map,hr=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(t,n){switch(t){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Ll.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(n.pointerId)}}function Pl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=qn(n),n!==null&&oy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function iT(t,n,r,l,c){switch(n){case"focusin":return or=Pl(or,t,n,r,l,c),!0;case"dragenter":return ur=Pl(ur,t,n,r,l,c),!0;case"mouseover":return cr=Pl(cr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return Ll.set(f,Pl(Ll.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,zl.set(f,Pl(zl.get(f)||null,t,n,r,l,c)),!0}return!1}function hy(t){var n=fi(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,_o(t.priority,function(){if(r.tag===13){var l=dn();l=Bi(l);var c=qs(r,l);c!==null&&mn(c,r,l),Cf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ou(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=If(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);pi=l,r.target.dispatchEvent(l),pi=null}else return n=qn(r),n!==null&&oy(n),t.blockedOn=r,!1;n.shift()}return!0}function fy(t,n,r){Ou(t)&&r.delete(n)}function rT(){xf=!1,or!==null&&Ou(or)&&(or=null),ur!==null&&Ou(ur)&&(ur=null),cr!==null&&Ou(cr)&&(cr=null),Ll.forEach(fy),zl.forEach(fy)}function Uu(t,n){t.blockedOn===n&&(t.blockedOn=null,xf||(xf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,rT)))}var Lu=null;function dy(t){Lu!==t&&(Lu=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Lu===t&&(Lu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Nf(l||r)===null)continue;break}var f=qn(r);f!==null&&(t.splice(n,3),n-=3,Ih(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Bl(t){function n(b){return Uu(b,t)}or!==null&&Uu(or,t),ur!==null&&Uu(ur,t),cr!==null&&Uu(cr,t),Ll.forEach(n),zl.forEach(n);for(var r=0;r<hr.length;r++){var l=hr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<hr.length&&(r=hr[0],r.blockedOn===null);)hy(r),r.blockedOn===null&&hr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[fe]||null;if(typeof f=="function")y||dy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(Nf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),dy(r)}}}function Mf(t){this._internalRoot=t}zu.prototype.render=Mf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,l=dn();ay(r,l,t,n,null,null)},zu.prototype.unmount=Mf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ay(t.current,2,null,t,null,null),_u(),n[_n]=null}};function zu(t){this._internalRoot=t}zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ki();t={blockedOn:null,target:t,priority:n};for(var r=0;r<hr.length&&n!==0&&n<hr[r].priority;r++);hr.splice(r,0,t),r===0&&hy(t)}};var my=e.version;if(my!=="19.1.1")throw Error(s(527,my,"19.1.1"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var sT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{se=Pu.inject(sT),qt=Pu}catch{}}return jl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var r=!1,l="",c=Ig,f=Ng,y=xg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ry(t,1,!1,null,null,r,l,c,f,y,E,null),t[_n]=n.current,gf(t),new Mf(n)},jl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(s(299));var l=!1,c="",f=Ig,y=Ng,E=xg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=ry(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=sy(null),r=n.current,l=dn(),l=Bi(l),c=Ki(l),c.callback=null,Xi(r,c,l),r=l,n.current.lanes=r,hi(n,r),ni(n),t[_n]=n.current,gf(t),new zu(n)},jl.version="19.1.1",jl}var by;function pT(){if(by)return Lf.exports;by=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Lf.exports=gT(),Lf.exports}var yT=pT();const _T=H_(yT),vT=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(a){const e=[];let i=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ET=function(a){const e=[];let i=0,s=0;for(;i<a.length;){const o=a[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],d=a[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},Q_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,A=h>>2,C=(h&3)<<4|g>>4;let w=(g&15)<<2|_>>6,k=_&63;v||(k=64,d||(w=64)),s.push(i[A],i[C],i[w],i[k])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(G_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):ET(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const C=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||C==null)throw new TT;const w=h<<2|g>>4;if(s.push(w),_!==64){const k=g<<4&240|_>>2;if(s.push(k),C!==64){const Y=_<<6&192|C;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class TT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AT=function(a){const e=G_(a);return Q_.encodeByteArray(e,!0)},Ju=function(a){return AT(a).replace(/\./g,"")},ST=function(a){try{return Q_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=()=>bT().__FIREBASE_DEFAULTS__,wT=()=>{if(typeof process>"u"||typeof Ry>"u")return;const a=Ry.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},DT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&ST(a[1]);return e&&JSON.parse(e)},Sd=()=>{try{return vT()||RT()||wT()||DT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},CT=a=>{var e,i;return(i=(e=Sd())==null?void 0:e.emulatorHosts)==null?void 0:i[a]},VT=a=>{const e=CT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},F_=()=>{var a;return(a=Sd())==null?void 0:a.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function NT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ju(JSON.stringify(i)),Ju(JSON.stringify(d)),""].join(".")}const Fl={};function MT(){const a={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?a.emulator.push(e):a.prod.push(e);return a}function OT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let wy=!1;function UT(a,e){if(typeof window>"u"||typeof document>"u"||!bd(window.location.host)||Fl[a]===e||Fl[a]||wy)return;Fl[a]=e;function i(w){return`__firebase__banner__${w}`}const s="__firebase__banner",h=MT().prod.length>0;function d(){const w=document.getElementById(s);w&&w.remove()}function g(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function v(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function _(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{wy=!0,d()},w}function A(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function C(){const w=OT(s),k=i("text"),Y=document.getElementById(k)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),ft=i("preprendIcon"),lt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const ht=w.element;g(ht),A(Z,tt);const Ut=_();v(lt,ft),ht.append(lt,Y,Z,Ut),document.body.appendChild(ht)}h?(Y.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Y.innerText="Preview backend running in this workspace."),Y.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zT(){var e;const a=(e=Sd())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PT(){return!zT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BT(){try{return typeof indexedDB=="object"}catch{return!1}}function kT(){return new Promise((a,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)==null?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="FirebaseError";class wa extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=jT,Object.setPrototypeOf(this,wa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Y_.prototype.create)}}class Y_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?qT(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new wa(o,g,s)}}function qT(a,e){return a.replace(HT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const HT=/\{\$([^}]+)}/g;function Wu(a,e){if(a===e)return!0;const i=Object.keys(a),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=a[o],d=e[o];if(Dy(h)&&Dy(d)){if(!Wu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Dy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(a){return a&&a._delegate?a._delegate:a}class $l{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new IT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FT(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QT(a){return a===ds?void 0:a}function FT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new GT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ot||(Ot={}));const KT={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},XT=Ot.INFO,ZT={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},$T=(a,e,...i)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=ZT[e];if(o)console[o](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K_{constructor(e){this.name=e,this._logLevel=XT,this._logHandler=$T,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...e),this._logHandler(this,Ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...e),this._logHandler(this,Ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...e),this._logHandler(this,Ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...e),this._logHandler(this,Ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...e),this._logHandler(this,Ot.ERROR,...e)}}const JT=(a,e)=>e.some(i=>a instanceof i);let Cy,Vy;function WT(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function t1(){return Vy||(Vy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X_=new WeakMap,Jf=new WeakMap,Z_=new WeakMap,kf=new WeakMap,Rd=new WeakMap;function e1(a){const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(mr(a.result)),o()},d=()=>{s(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&X_.set(i,a)}).catch(()=>{}),Rd.set(e,a),e}function n1(a){if(Jf.has(a))return;const e=new Promise((i,s)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Jf.set(a,e)}let Wf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return Jf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Z_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return mr(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function i1(a){Wf=a(Wf)}function r1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=a.call(jf(this),e,...i);return Z_.set(s,e.sort?e.sort():[e]),mr(s)}:t1().includes(a)?function(...e){return a.apply(jf(this),e),mr(X_.get(this))}:function(...e){return mr(a.apply(jf(this),e))}}function s1(a){return typeof a=="function"?r1(a):(a instanceof IDBTransaction&&n1(a),JT(a,WT())?new Proxy(a,Wf):a)}function mr(a){if(a instanceof IDBRequest)return e1(a);if(kf.has(a))return kf.get(a);const e=s1(a);return e!==a&&(kf.set(a,e),Rd.set(e,a)),e}const jf=a=>Rd.get(a);function a1(a,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=mr(d);return s&&d.addEventListener("upgradeneeded",v=>{s(mr(d.result),v.oldVersion,v.newVersion,mr(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const l1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],qf=new Map;function Iy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=o1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||l1.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&v.done]))[0]};return qf.set(e,h),h}i1(a=>({...a,get:(e,i,s)=>Iy(e,i)||a.get(e,i,s),has:(e,i)=>!!Iy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(c1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function c1(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const td="@firebase/app",Ny="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new K_("@firebase/app"),h1="@firebase/app-compat",f1="@firebase/analytics-compat",d1="@firebase/analytics",m1="@firebase/app-check-compat",g1="@firebase/app-check",p1="@firebase/auth",y1="@firebase/auth-compat",_1="@firebase/database",v1="@firebase/data-connect",E1="@firebase/database-compat",T1="@firebase/functions",A1="@firebase/functions-compat",S1="@firebase/installations",b1="@firebase/installations-compat",R1="@firebase/messaging",w1="@firebase/messaging-compat",D1="@firebase/performance",C1="@firebase/performance-compat",V1="@firebase/remote-config",I1="@firebase/remote-config-compat",N1="@firebase/storage",x1="@firebase/storage-compat",M1="@firebase/firestore",O1="@firebase/ai",U1="@firebase/firestore-compat",L1="firebase",z1="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="[DEFAULT]",P1={[td]:"fire-core",[h1]:"fire-core-compat",[d1]:"fire-analytics",[f1]:"fire-analytics-compat",[g1]:"fire-app-check",[m1]:"fire-app-check-compat",[p1]:"fire-auth",[y1]:"fire-auth-compat",[_1]:"fire-rtdb",[v1]:"fire-data-connect",[E1]:"fire-rtdb-compat",[T1]:"fire-fn",[A1]:"fire-fn-compat",[S1]:"fire-iid",[b1]:"fire-iid-compat",[R1]:"fire-fcm",[w1]:"fire-fcm-compat",[D1]:"fire-perf",[C1]:"fire-perf-compat",[V1]:"fire-rc",[I1]:"fire-rc-compat",[N1]:"fire-gcs",[x1]:"fire-gcs-compat",[M1]:"fire-fst",[U1]:"fire-fst-compat",[O1]:"fire-vertex","fire-js":"fire-js",[L1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,B1=new Map,nd=new Map;function xy(a,e){try{a.container.addComponent(e)}catch(i){Ui.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function ec(a){const e=a.name;if(nd.has(e))return Ui.debug(`There were multiple attempts to register component ${e}.`),!1;nd.set(e,a);for(const i of tc.values())xy(i,a);for(const i of B1.values())xy(i,a);return!0}function k1(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function j1(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gr=new Y_("app","Firebase",q1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=z1;function $_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const s={name:ed,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw gr.create("bad-app-name",{appName:String(o)});if(i||(i=F_()),!i)throw gr.create("no-options");const h=tc.get(o);if(h){if(Wu(i,h.options)&&Wu(s,h.config))return h;throw gr.create("duplicate-app",{appName:o})}const d=new YT(o);for(const v of nd.values())d.addComponent(v);const g=new H1(i,s,d);return tc.set(o,g),g}function Q1(a=ed){const e=tc.get(a);if(!e&&a===ed&&F_())return $_();if(!e)throw gr.create("no-app",{appName:a});return e}function _a(a,e,i){let s=P1[a]??a;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ui.warn(d.join(" "));return}ec(new $l(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebase-heartbeat-database",Y1=1,Jl="firebase-heartbeat-store";let Hf=null;function J_(){return Hf||(Hf=a1(F1,Y1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(Jl)}catch(i){console.warn(i)}}}}).catch(a=>{throw gr.create("idb-open",{originalErrorMessage:a.message})})),Hf}async function K1(a){try{const i=(await J_()).transaction(Jl),s=await i.objectStore(Jl).get(W_(a));return await i.done,s}catch(e){if(e instanceof wa)Ui.warn(e.message);else{const i=gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ui.warn(i.message)}}}async function My(a,e){try{const s=(await J_()).transaction(Jl,"readwrite");await s.objectStore(Jl).put(e,W_(a)),await s.done}catch(i){if(i instanceof wa)Ui.warn(i.message);else{const s=gr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Ui.warn(s.message)}}}function W_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=1024,Z1=30;class $1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new W1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Oy();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>Z1){const d=tA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ui.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Oy(),{heartbeatsToSend:s,unsentEntries:o}=J1(this._heartbeatsCache.heartbeats),h=Ju(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Ui.warn(i),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function J1(a,e=X1){const i=[];let s=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Uy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Uy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class W1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BT()?kT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await K1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return My(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return My(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uy(a){return Ju(JSON.stringify({version:2,heartbeats:a})).length}function tA(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(a){ec(new $l("platform-logger",e=>new u1(e),"PRIVATE")),ec(new $l("heartbeat",e=>new $1(e),"PRIVATE")),_a(td,Ny,a),_a(td,Ny,"esm2020"),_a("fire-js","")}eA("");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pr,tv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,S){function D(){}D.prototype=S.prototype,x.D=S.prototype,x.prototype=new D,x.prototype.constructor=x,x.C=function(N,M,U){for(var R=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)R[Oe-2]=arguments[Oe];return S.prototype[M].apply(N,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,D){D||(D=0);var N=Array(16);if(typeof S=="string")for(var M=0;16>M;++M)N[M]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(M=0;16>M;++M)N[M]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=x.g[0],D=x.g[1],M=x.g[2];var U=x.g[3],R=S+(U^D&(M^U))+N[0]+3614090360&4294967295;S=D+(R<<7&4294967295|R>>>25),R=U+(M^S&(D^M))+N[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(D^U&(S^D))+N[2]+606105819&4294967295,M=U+(R<<17&4294967295|R>>>15),R=D+(S^M&(U^S))+N[3]+3250441966&4294967295,D=M+(R<<22&4294967295|R>>>10),R=S+(U^D&(M^U))+N[4]+4118548399&4294967295,S=D+(R<<7&4294967295|R>>>25),R=U+(M^S&(D^M))+N[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(D^U&(S^D))+N[6]+2821735955&4294967295,M=U+(R<<17&4294967295|R>>>15),R=D+(S^M&(U^S))+N[7]+4249261313&4294967295,D=M+(R<<22&4294967295|R>>>10),R=S+(U^D&(M^U))+N[8]+1770035416&4294967295,S=D+(R<<7&4294967295|R>>>25),R=U+(M^S&(D^M))+N[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(D^U&(S^D))+N[10]+4294925233&4294967295,M=U+(R<<17&4294967295|R>>>15),R=D+(S^M&(U^S))+N[11]+2304563134&4294967295,D=M+(R<<22&4294967295|R>>>10),R=S+(U^D&(M^U))+N[12]+1804603682&4294967295,S=D+(R<<7&4294967295|R>>>25),R=U+(M^S&(D^M))+N[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=M+(D^U&(S^D))+N[14]+2792965006&4294967295,M=U+(R<<17&4294967295|R>>>15),R=D+(S^M&(U^S))+N[15]+1236535329&4294967295,D=M+(R<<22&4294967295|R>>>10),R=S+(M^U&(D^M))+N[1]+4129170786&4294967295,S=D+(R<<5&4294967295|R>>>27),R=U+(D^M&(S^D))+N[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^D&(U^S))+N[11]+643717713&4294967295,M=U+(R<<14&4294967295|R>>>18),R=D+(U^S&(M^U))+N[0]+3921069994&4294967295,D=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(D^M))+N[5]+3593408605&4294967295,S=D+(R<<5&4294967295|R>>>27),R=U+(D^M&(S^D))+N[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^D&(U^S))+N[15]+3634488961&4294967295,M=U+(R<<14&4294967295|R>>>18),R=D+(U^S&(M^U))+N[4]+3889429448&4294967295,D=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(D^M))+N[9]+568446438&4294967295,S=D+(R<<5&4294967295|R>>>27),R=U+(D^M&(S^D))+N[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^D&(U^S))+N[3]+4107603335&4294967295,M=U+(R<<14&4294967295|R>>>18),R=D+(U^S&(M^U))+N[8]+1163531501&4294967295,D=M+(R<<20&4294967295|R>>>12),R=S+(M^U&(D^M))+N[13]+2850285829&4294967295,S=D+(R<<5&4294967295|R>>>27),R=U+(D^M&(S^D))+N[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=M+(S^D&(U^S))+N[7]+1735328473&4294967295,M=U+(R<<14&4294967295|R>>>18),R=D+(U^S&(M^U))+N[12]+2368359562&4294967295,D=M+(R<<20&4294967295|R>>>12),R=S+(D^M^U)+N[5]+4294588738&4294967295,S=D+(R<<4&4294967295|R>>>28),R=U+(S^D^M)+N[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^D)+N[11]+1839030562&4294967295,M=U+(R<<16&4294967295|R>>>16),R=D+(M^U^S)+N[14]+4259657740&4294967295,D=M+(R<<23&4294967295|R>>>9),R=S+(D^M^U)+N[1]+2763975236&4294967295,S=D+(R<<4&4294967295|R>>>28),R=U+(S^D^M)+N[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^D)+N[7]+4139469664&4294967295,M=U+(R<<16&4294967295|R>>>16),R=D+(M^U^S)+N[10]+3200236656&4294967295,D=M+(R<<23&4294967295|R>>>9),R=S+(D^M^U)+N[13]+681279174&4294967295,S=D+(R<<4&4294967295|R>>>28),R=U+(S^D^M)+N[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^D)+N[3]+3572445317&4294967295,M=U+(R<<16&4294967295|R>>>16),R=D+(M^U^S)+N[6]+76029189&4294967295,D=M+(R<<23&4294967295|R>>>9),R=S+(D^M^U)+N[9]+3654602809&4294967295,S=D+(R<<4&4294967295|R>>>28),R=U+(S^D^M)+N[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=M+(U^S^D)+N[15]+530742520&4294967295,M=U+(R<<16&4294967295|R>>>16),R=D+(M^U^S)+N[2]+3299628645&4294967295,D=M+(R<<23&4294967295|R>>>9),R=S+(M^(D|~U))+N[0]+4096336452&4294967295,S=D+(R<<6&4294967295|R>>>26),R=U+(D^(S|~M))+N[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~D))+N[14]+2878612391&4294967295,M=U+(R<<15&4294967295|R>>>17),R=D+(U^(M|~S))+N[5]+4237533241&4294967295,D=M+(R<<21&4294967295|R>>>11),R=S+(M^(D|~U))+N[12]+1700485571&4294967295,S=D+(R<<6&4294967295|R>>>26),R=U+(D^(S|~M))+N[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~D))+N[10]+4293915773&4294967295,M=U+(R<<15&4294967295|R>>>17),R=D+(U^(M|~S))+N[1]+2240044497&4294967295,D=M+(R<<21&4294967295|R>>>11),R=S+(M^(D|~U))+N[8]+1873313359&4294967295,S=D+(R<<6&4294967295|R>>>26),R=U+(D^(S|~M))+N[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~D))+N[6]+2734768916&4294967295,M=U+(R<<15&4294967295|R>>>17),R=D+(U^(M|~S))+N[13]+1309151649&4294967295,D=M+(R<<21&4294967295|R>>>11),R=S+(M^(D|~U))+N[4]+4149444226&4294967295,S=D+(R<<6&4294967295|R>>>26),R=U+(D^(S|~M))+N[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=M+(S^(U|~D))+N[2]+718787259&4294967295,M=U+(R<<15&4294967295|R>>>17),R=D+(U^(M|~S))+N[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+U&4294967295}s.prototype.u=function(x,S){S===void 0&&(S=x.length);for(var D=S-this.blockSize,N=this.B,M=this.h,U=0;U<S;){if(M==0)for(;U<=D;)o(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<S;)if(N[M++]=x.charCodeAt(U++),M==this.blockSize){o(this,N),M=0;break}}else for(;U<S;)if(N[M++]=x[U++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=S},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;var D=8*this.o;for(S=x.length-8;S<x.length;++S)x[S]=D&255,D/=256;for(this.u(x),x=Array(16),S=D=0;4>S;++S)for(var N=0;32>N;N+=8)x[D++]=this.g[S]>>>N&255;return x};function h(x,S){var D=g;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=S(x)}function d(x,S){this.h=S;for(var D=[],N=!0,M=x.length-1;0<=M;M--){var U=x[M]|0;N&&U==S||(D[M]=U,N=!1)}this.g=D}var g={};function v(x){return-128<=x&&128>x?h(x,function(S){return new d([S|0],0>S?-1:0)}):new d([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return C;if(0>x)return Z(_(-x));for(var S=[],D=1,N=0;x>=D;N++)S[N]=x/D|0,D*=4294967296;return new d(S,0)}function A(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return Z(A(x.substring(1),S));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=_(Math.pow(S,8)),N=C,M=0;M<x.length;M+=8){var U=Math.min(8,x.length-M),R=parseInt(x.substring(M,M+U),S);8>U?(U=_(Math.pow(S,U)),N=N.j(U).add(_(R))):(N=N.j(D),N=N.add(_(R)))}return N}var C=v(0),w=v(1),k=v(16777216);a=d.prototype,a.m=function(){if(tt(this))return-Z(this).m();for(var x=0,S=1,D=0;D<this.g.length;D++){var N=this.i(D);x+=(0<=N?N:4294967296+N)*S,S*=4294967296}return x},a.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(Y(this))return"0";if(tt(this))return"-"+Z(this).toString(x);for(var S=_(Math.pow(x,6)),D=this,N="";;){var M=Ut(D,S).g;D=ft(D,M.j(S));var U=((0<D.g.length?D.g[0]:D.h)>>>0).toString(x);if(D=M,Y(D))return U+N;for(;6>U.length;)U="0"+U;N=U+N}},a.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function Y(x){if(x.h!=0)return!1;for(var S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function tt(x){return x.h==-1}a.l=function(x){return x=ft(this,x),tt(x)?-1:Y(x)?0:1};function Z(x){for(var S=x.g.length,D=[],N=0;N<S;N++)D[N]=~x.g[N];return new d(D,~x.h).add(w)}a.abs=function(){return tt(this)?Z(this):this},a.add=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],N=0,M=0;M<=S;M++){var U=N+(this.i(M)&65535)+(x.i(M)&65535),R=(U>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);N=R>>>16,U&=65535,R&=65535,D[M]=R<<16|U}return new d(D,D[D.length-1]&-2147483648?-1:0)};function ft(x,S){return x.add(Z(S))}a.j=function(x){if(Y(this)||Y(x))return C;if(tt(this))return tt(x)?Z(this).j(Z(x)):Z(Z(this).j(x));if(tt(x))return Z(this.j(Z(x)));if(0>this.l(k)&&0>x.l(k))return _(this.m()*x.m());for(var S=this.g.length+x.g.length,D=[],N=0;N<2*S;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<x.g.length;M++){var U=this.i(N)>>>16,R=this.i(N)&65535,Oe=x.i(M)>>>16,re=x.i(M)&65535;D[2*N+2*M]+=R*re,lt(D,2*N+2*M),D[2*N+2*M+1]+=U*re,lt(D,2*N+2*M+1),D[2*N+2*M+1]+=R*Oe,lt(D,2*N+2*M+1),D[2*N+2*M+2]+=U*Oe,lt(D,2*N+2*M+2)}for(N=0;N<S;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=S;N<2*S;N++)D[N]=0;return new d(D,0)};function lt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function ht(x,S){this.g=x,this.h=S}function Ut(x,S){if(Y(S))throw Error("division by zero");if(Y(x))return new ht(C,C);if(tt(x))return S=Ut(Z(x),S),new ht(Z(S.g),Z(S.h));if(tt(S))return S=Ut(x,Z(S)),new ht(Z(S.g),S.h);if(30<x.g.length){if(tt(x)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var D=w,N=S;0>=N.l(x);)D=Tt(D),N=Tt(N);var M=zt(D,1),U=zt(N,1);for(N=zt(N,2),D=zt(D,2);!Y(N);){var R=U.add(N);0>=R.l(x)&&(M=M.add(D),U=R),N=zt(N,1),D=zt(D,1)}return S=ft(x,M.j(S)),new ht(M,S)}for(M=C;0<=x.l(S);){for(D=Math.max(1,Math.floor(x.m()/S.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),U=_(D),R=U.j(S);tt(R)||0<R.l(x);)D-=N,U=_(D),R=U.j(S);Y(U)&&(U=w),M=M.add(U),x=ft(x,R)}return new ht(M,x)}a.A=function(x){return Ut(this,x).h},a.and=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],N=0;N<S;N++)D[N]=this.i(N)&x.i(N);return new d(D,this.h&x.h)},a.or=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],N=0;N<S;N++)D[N]=this.i(N)|x.i(N);return new d(D,this.h|x.h)},a.xor=function(x){for(var S=Math.max(this.g.length,x.g.length),D=[],N=0;N<S;N++)D[N]=this.i(N)^x.i(N);return new d(D,this.h^x.h)};function Tt(x){for(var S=x.g.length+1,D=[],N=0;N<S;N++)D[N]=x.i(N)<<1|x.i(N-1)>>>31;return new d(D,x.h)}function zt(x,S){var D=S>>5;S%=32;for(var N=x.g.length-D,M=[],U=0;U<N;U++)M[U]=0<S?x.i(U+D)>>>S|x.i(U+D+1)<<32-S:x.i(U+D);return new d(M,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,pr=d}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ev,ql,nv,Qu,id,iv,rv,sv;(function(){var a,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bu=="object"&&Bu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var q=p++;return{value:m(q,u[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function C(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function w(u,m,p){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,w.apply(null,arguments)}function k(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function Y(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,q){for(var et=Array(arguments.length-2),It=2;It<arguments.length;It++)et[It-2]=arguments[It];return m.prototype[L].apply(T,et)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const L=u.length||0,q=T.length||0;u.length=L+q;for(let et=0;et<q;et++)u[L+et]=T[et]}else u.push(T)}}class ft{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function ht(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Ut(u){return Ut[" "](u),u}Ut[" "]=function(){};var Tt=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function zt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function x(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let q=0;q<D.length;q++)p=D[q],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function U(u){g.setTimeout(()=>{throw u},0)}function R(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,p){const T=re.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new ft(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ut=!1,Pt=new Oe,V=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then($)}};var $=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){U(p)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ut=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function bt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Tt){t:{try{Ut(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}Y(bt,W);var _t={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function kn(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Zt,this.da=this.fa=!1}function Pi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,m,p,T,L){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var et=Ir(u,m,T,L);return-1<et?(m=u[et],p||(m.fa=!1)):(m=new kn(m,this.src,q,!!T,L),m.fa=p,u.push(m)),m};function Vr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=L)&&Array.prototype.splice.call(T,L,1),q&&(Pi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ir(u,m,p,T){for(var L=0;L<u.length;++L){var q=u[L];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return L}return-1}var Nr="closure_lm_"+(1e6*Math.random()|0),xa={};function go(u,m,p,T,L){if(Array.isArray(m)){for(var q=0;q<m.length;q++)go(u,m[q],p,T,L);return null}return p=po(p),u&&u[De]?u.K(m,p,_(T)?!!T.capture:!1,L):yn(u,m,p,!1,T,L)}function yn(u,m,p,T,L,q){if(!m)throw Error("Invalid event type");var et=_(L)?!!L.capture:!!L,It=As(u);if(It||(u[Nr]=It=new ui(u)),p=It.add(m,p,T,et,q),p.proxy)return p;if(T=Mc(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)dt||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(xr(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Mc(){function u(p){return m.call(u.src,u.listener,p)}const m=Oc;return u}function Ma(u,m,p,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ma(u,m[q],p,T,L);else T=_(T)?!!T.capture:!!T,p=po(p),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],p=Ir(q,p,T,L),-1<p&&(Pi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=As(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ir(m,p,T,L)),(p=-1<u?m[u]:null)&&Ts(p))}function Ts(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Vr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(xr(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=As(m))?(Vr(p,u),p.h==0&&(p.src=null,m[Nr]=null)):Pi(u)}}}function xr(u){return u in xa?xa[u]:xa[u]="on"+u}function Oc(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&Ts(u),u=p.call(T,m)}return u}function As(u){return u=u[Nr],u instanceof ui?u:null}var Oa="__closure_events_fn_"+(1e9*Math.random()>>>0);function po(u){return typeof u=="function"?u:(u[Oa]||(u[Oa]=function(m){return u.handleEvent(m)}),u[Oa])}function se(){it.call(this),this.i=new ui(this),this.M=this,this.F=null}Y(se,it),se.prototype[De]=!0,se.prototype.removeEventListener=function(u,m,p,T){Ma(this,u,m,p,T)};function qt(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var L=m;m=new W(T,u),N(m,L)}if(L=!0,p)for(var q=p.length-1;0<=q;q--){var et=m.g=p[q];L=an(et,T,!0,m)&&L}if(et=m.g=u,L=an(et,T,!0,m)&&L,L=an(et,T,!1,m)&&L,p)for(q=0;q<p.length;q++)et=m.g=p[q],L=an(et,T,!1,m)&&L}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Pi(p[T]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},se.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function an(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,q=0;q<m.length;++q){var et=m[q];if(et&&!et.da&&et.capture==p){var It=et.listener,Te=et.ha||et.src;et.fa&&Vr(u.i,et),L=It.call(Te,T)!==!1&&L}}return L&&!T.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=w(u,p));else if(u&&typeof u.handleEvent=="function")u=w(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function yo(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Uc extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:yo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){it.call(this),this.h=u,this.g={}}Y(Mr,it);var Or=[];function Ur(u){zt(u.g,function(m,p){this.g.hasOwnProperty(p)&&Ts(m)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Ur(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xn=g.JSON.stringify,Ss=g.JSON.parse,Lr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ua(){}Ua.prototype.h=null;function La(u){return u.h||(u.h=u.i())}function za(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){W.call(this,"d")}Y(hi,W);function Pa(){W.call(this,"c")}Y(Pa,W);var jn={},Ba=null;function Bi(){return Ba=Ba||new se}jn.La="serverreachability";function bs(u){W.call(this,jn.La,u)}Y(bs,W);function ki(u){const m=Bi();qt(m,new bs(m))}jn.STAT_EVENT="statevent";function _o(u,m){W.call(this,jn.STAT_EVENT,u),this.stat=m}Y(_o,W);function te(u){const m=Bi();qt(m,new _o(m,u))}jn.Ma="timingevent";function Ee(u,m){W.call(this,jn.Ma,u),this.size=m}Y(Ee,W);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function _n(){this.g=!0}_n.prototype.xa=function(){this.g=!1};function ka(u,m,p,T,L,q){u.info(function(){if(u.g)if(q)for(var et="",It=q.split("&"),Te=0;Te<It.length;Te++){var Nt=It[Te].split("=");if(1<Nt.length){var Ve=Nt[0];Nt=Nt[1];var Ae=Ve.split("_");et=2<=Ae.length&&Ae[1]=="type"?et+(Ve+"="+Nt+"&"):et+(Ve+"=redacted&")}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+et})}function Lc(u,m,p,T,L,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+q+" "+et})}function ji(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zr(u,p)+(T?" "+T:"")})}function vo(u,m){u.info(function(){return"TIMEOUT: "+m})}_n.prototype.info=function(){};function zr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var et=1;et<L.length;et++)L[et]=""}}}}return xn(p)}catch{return m}}var qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Hn(){}Y(Hn,Ua),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},qn=new Hn;function Xe(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var ja={},Rs={};function Mn(u,m,p){u.L=1,u.v=qr(ln(m)),u.m=p,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),Pr(u),u.A=ln(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),Ya(p.i,"t",T),u.C=0,p=u.j.J,u.h=new oe,u.g=Uo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Uc(w(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Or[0]=L.toString()),L=Or);for(var q=0;q<L.length;q++){var et=go(p,L[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ki(),ka(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=An(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Do(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=Ti?ki(3):ki(2)),Hi(this);var p=this.g.Z();this.X=p;e:if(Eo(this)){var T=Do(this.g);u="";var L=T.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ue(this),Gn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(q&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=p==200,Lc(this.i,this.u,this.A,this.l,this.R,Ae,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,Te=this.g;if((It=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(It)){var Nt=It;break e}}Nt=null}if(p=Nt)ji(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Br(this,p);else{this.o=!1,this.s=3,te(12),Ue(this),Gn(this);break t}}if(this.P){p=!0;let Le;for(;!this.J&&this.C<et.length;)if(Le=To(this,et),Le==Rs){Ae==4&&(this.s=4,te(14),p=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==ja){this.s=4,te(15),ji(this.i,this.l,et,"[Invalid Chunk]"),p=!1;break}else ji(this.i,this.l,Le,null),Br(this,Le);if(Eo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||et.length!=0||this.h.h||(this.s=1,te(16),p=!1),this.o=this.o&&p,!p)ji(this.i,this.l,et,"[Invalid Chunked Response]"),Ue(this),Gn(this);else if(0<et.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),Zr(Ve),Ve.M=!0,te(11))}}else ji(this.i,this.l,et,null),Br(this,et);Ae==4&&Ue(this),this.o&&!this.J&&(Ae==4?xo(this.j,this):(this.o=!1,Pr(this)))}else jc(this.g),p==400&&0<et.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Ue(this),Gn(this)}}}catch{}finally{}};function Eo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function To(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Rs:(p=Number(m.substring(p,T)),isNaN(p)?ja:(T+=1,T+p>m.length?Rs:(m=m.slice(T,T+p),u.C=T+p,m)))}Xe.prototype.cancel=function(){this.J=!0,Ue(this)};function Pr(u){u.S=Date.now()+u.I,Ao(u,u.I)}function Ao(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(w(u.ba,u),m)}function Hi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(vo(this.i,this.A),this.L!=2&&(ki(),te(17)),Ue(this),this.s=2,Gn(this)):Ao(this,this.S-u)};function Gn(u){u.j.G==0||u.J||xo(u.j,u)}function Ue(u){Hi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Ur(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Br(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||qa(p.h,u))){if(!u.K&&qa(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)zs(p),Us(p);else break t;Ja(p),te(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(w(p.Za,p),6e3));if(1>=Ds(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ei(p,11)}else if((u.K||p.g==u)&&zs(p),!lt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Nt=L[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const Ve=Nt[3];Ve!=null&&(p.la=Ve,p.j.info("VER="+p.la));const Ae=Nt[4];Ae!=null&&(p.Aa=Ae,p.j.info("SVER="+p.Aa));const Ti=Nt[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(T=1.5*Ti,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Le=u.g;if(Le){const $n=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var q=T.h;q.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Cs(q,q.h),q.h=null))}if(T.D){const tl=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(T.ya=tl,Qt(T.I,T.D,tl))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var et=u;if(T.qa=Oo(T,T.J?T.ia:null,T.W),et.K){Ze(T.h,et);var It=et,Te=T.L;Te&&(It.I=Te),It.B&&(Hi(It),Pr(It)),T.g=et}else Io(T);0<p.i.length&&Ls(p)}else Nt[0]!="stop"&&Nt[0]!="close"||Ei(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Ei(p,7):Za(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}ki(4)}catch{}}var So=class{constructor(u,m){this.g=u,this.map=m}};function mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ws(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ds(u){return u.h?1:u.g?u.g.size:0}function qa(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Cs(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mi.prototype.cancel=function(){if(this.i=Ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ha(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function zc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(v(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function Vs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(v(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Ga(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(v(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Vs(u),T=zc(u),L=T.length,q=0;q<L;q++)m.call(void 0,T[q],p&&p[q],u)}var kr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var q=u[p].substring(0,T);L=u[p].substring(T+1)}else q=u[p];m(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,jr(this,u.j),this.o=u.o,this.g=u.g,Gi(this,u.s),this.l=u.l;var m=u.i,p=new pi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),gi(this,p),this.m=u.m}else u&&(m=String(u).match(kr))?(this.h=!1,jr(this,m[1]||"",!0),this.o=vn(m[2]||""),this.g=vn(m[3]||"",!0),Gi(this,m[4]),this.l=vn(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=vn(m[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Hr(m,Qa,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Hr(m,Qa,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Hr(p,p.charAt(0)=="/"?Bc:Fa,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Hr(p,Is)),u.join("")};function ln(u){return new de(u)}function jr(u,m,p){u.j=p?vn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Gi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,p){m instanceof pi?(u.i=m,Ro(u.i,u.h)):(p||(m=Hr(m,kc)),u.i=new pi(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function qr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function vn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Hr(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,bo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function bo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Qa=/[#\/\?@]/g,Fa=/[#\?:]/g,Bc=/[#\?]/g,kc=/[#\?@]/g,Is=/#/g;function pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Pc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=pi.prototype,a.add=function(u,m){En(this),this.i=null,u=Qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function yi(u,m){En(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _i(u,m){return En(u),m=Qn(u,m),u.g.has(m)}a.forEach=function(u,m){En(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},a.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let q=0;q<L.length;q++)p.push(m[T])}return p},a.V=function(u){En(this);let m=[];if(typeof u=="string")_i(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return En(this),this.i=null,u=Qn(this,u),_i(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ya(u,m,p){yi(u,m),0<p.length&&(u.i=null,u.g.set(Qn(u,m),tt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),et=this.V(T);for(T=0;T<et.length;T++){var L=q;et[T]!==""&&(L+="="+encodeURIComponent(String(et[T]))),u.push(L)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ro(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(yi(this,T),Ya(this,L,p))},u)),u.j=m}function Gr(u,m){const p=new _n;if(g.Image){const T=new Image;T.onload=k(Tn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=k(Tn,p,"TestLoadImage: error",!1,m,T),T.onabort=k(Tn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=k(Tn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function On(u,m){const p=new _n,T=new AbortController,L=setTimeout(()=>{T.abort(),Tn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Tn(p,"TestPingServer: ok",!0,m):Tn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Tn(p,"TestPingServer: error",!1,m)})}function Tn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Qr(){this.g=new Lr}function Fn(u,m,p){const T=p||"";try{Ga(u,function(L,q){let et=L;_(L)&&(et=xn(L)),m.push(T+q+"="+encodeURIComponent(et))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function Qi(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Qi,Ua),Qi.prototype.g=function(){return new vi(this.l,this.j)},Qi.prototype.i=function(u){return function(){return u}}({});function vi(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(vi,se),a=vi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Kn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Kn(this)),this.g&&(this.readyState=3,Kn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ka(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ka(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Kn(this),this.readyState==3&&Ka(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},a.Qa=function(u){this.g&&(this.response=u,Yn(this))},a.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Kn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Kn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Xa(u){let m="";return zt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ce(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Xa(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function kt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(kt,se);var Ns=/^https?$/i,Fr=["POST","PUT"];a=kt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?La(this.o):La(qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){wo(this,q);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Fr,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of p)this.g.setRequestHeader(q,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Yr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){wo(this,q)}};function wo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,xs(u),Xn(u)}function xs(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Xn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),kt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Ms(this):this.bb())},a.bb=function(){Ms(this)};function Ms(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)He(u.Ea,0,u);else if(qt(u,"readystatechange"),An(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=et===0){var L=String(u.D).match(kr)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Ns.test(L?L.toLowerCase():"")}p=T}if(p)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<An(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",xs(u)}}finally{Xn(u)}}}}function Xn(u,m){if(u.g){Yr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{p.onreadystatechange=T}catch{}}}function Yr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ss(m)}};function Do(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function jc(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(lt(u[T]))continue;var p=M(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[L]||[];m[L]=q,q.push(p)}x(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Os(u){this.Aa=0,this.i=[],this.j=new _n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,u),this.cb=Kr("retryDelaySeedMs",1e4,u),this.Wa=Kr("forwardChannelMaxRetries",2,u),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new Qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=Os.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){te(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Oo(this,null,this.W),Ls(this)};function Za(u){if(Co(u),u.G==3){var m=u.U++,p=ln(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),Xr(u,p),m=new Xe(u,u.j,m),m.L=2,m.v=qr(ln(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Uo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Pr(m)}Mo(u)}function Us(u){u.g&&(Zr(u),u.g.cancel(),u.g=null)}function Co(u){Us(u),u.u&&(g.clearTimeout(u.u),u.u=null),zs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ls(u){if(!ws(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||V(),ut||(nt(),ut=!0),Pt.add(m,u),u.B=0}}function qc(u,m){return Ds(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(w(u.Ga,u,m),Wa(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new Xe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=S(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Vo(this,L,m),p=ln(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),Xr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Xa(q)))+"&"+m:this.m&&Ce(p,this.m,q)),Cs(this.h,L),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),L.T=!0,Mn(L,p,null)):Mn(L,p,m),this.G=2}}else this.G==3&&(u?$a(this,u):this.i.length==0||ws(this.h)||$a(this))};function $a(u,m){var p;m?p=m.l:p=u.U++;const T=ln(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),Xr(u,T),u.m&&u.o&&Ce(T,u.m,u.o),p=new Xe(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Vo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Cs(u.h,p),Mn(p,T,m)}function Xr(u,m){u.H&&zt(u.H,function(p,T){Qt(m,T,p)}),u.l&&Ga({},function(p,T){Qt(m,T,p)})}function Vo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?w(u.l.Na,u.l,u):null;t:{var L=u.i;let q=-1;for(;;){const et=["count="+p];q==-1?0<p?(q=L[0].g,et.push("ofs="+q)):q=0:et.push("ofs="+q);let It=!0;for(let Te=0;Te<p;Te++){let Nt=L[Te].g;const Ve=L[Te].map;if(Nt-=q,0>Nt)q=Math.max(0,L[Te].g-100),It=!1;else try{Fn(Ve,et,"req"+Nt+"_")}catch{T&&T(Ve)}}if(It){T=et.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function Io(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||V(),ut||(nt(),ut=!0),Pt.add(m,u),u.v=0}}function Ja(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(w(u.Fa,u),Wa(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,No(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(w(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Us(this),No(this))};function Zr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function No(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),Xr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=qr(ln(m)),p.m=null,p.P=!0,di(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Us(this),Ja(this),te(19))};function zs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function xo(u,m){var p=null;if(u.g==m){zs(u),Zr(u),u.g=null;var T=2}else if(qa(u.h,m))p=m.D,Ze(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Bi(),qt(T,new Ee(T,p)),Ls(u)}else Io(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&qc(u,m)||T==2&&Ja(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function Wa(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var p=w(u.fb,u),T=u.Xa;const L=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||jr(T,"https"),qr(T),L?Gr(T.toString(),p):On(T.toString(),p)}else te(2);u.G=0,u.l&&u.l.sa(m),Mo(u),Co(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Mo(u){if(u.G=0,u.ka=[],u.l){const m=Ha(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function Oo(u,m,p){var T=p instanceof de?ln(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),Gi(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var q=new de(null);T&&jr(q,T),m&&(q.g=m),L&&Gi(q,L),p&&(q.l=p),T=q}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),Xr(u,T),T}function Uo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Qi({eb:p})):new kt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lo(){}a=Lo.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ps(){}Ps.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){se.call(this),this.g=new Os(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}Y($e,se),$e.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Za(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=xn(u),u=p);m.i.push(new So(m.Ya++,u)),m.G==3&&Ls(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Za(this.g),delete this.g,$e.aa.N.call(this)};function zo(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(zo,hi);function Po(){Pa.call(this),this.status=1}Y(Po,Pa);function Zn(u){this.g=u}Y(Zn,Lo),Zn.prototype.ua=function(){qt(this.g,"a")},Zn.prototype.ta=function(u){qt(this.g,new zo(u))},Zn.prototype.sa=function(u){qt(this.g,new Po)},Zn.prototype.ra=function(){qt(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,sv=function(){return new Ps},rv=function(){return Bi()},iv=jn,id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qi.NO_ERROR=0,qi.TIMEOUT=8,qi.HTTP_ERROR=6,Qu=qi,fi.COMPLETE="complete",nv=fi,za.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",se.prototype.listen=se.prototype.K,ql=za,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,ev=kt}).apply(typeof Bu<"u"?Bu:typeof self<"u"?self:typeof window<"u"?window:{});const zy="@firebase/firestore",Py="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new K_("@firebase/firestore");function da(){return ys.logLevel}function st(a,...e){if(ys.logLevel<=Ot.DEBUG){const i=e.map(wd);ys.debug(`Firestore (${Da}): ${a}`,...i)}}function Li(a,...e){if(ys.logLevel<=Ot.ERROR){const i=e.map(wd);ys.error(`Firestore (${Da}): ${a}`,...i)}}function Ea(a,...e){if(ys.logLevel<=Ot.WARN){const i=e.map(wd);ys.warn(`Firestore (${Da}): ${a}`,...i)}}function wd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(a,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,av(a,s,i)}function av(a,e,i){let s=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Li(s),new Error(s)}function jt(a,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,a||av(e,o,s)}function Et(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends wa{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ye.UNAUTHENTICATED))}shutdown(){}}class iA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class rA{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let s=this.i;const o=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let h=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new yr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await o(this.currentUser)})},g=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new yr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string",31837,{l:s}),new lv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class sA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new sA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable(()=>i(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class By{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,j1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const s=h=>{h.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>s(h))};const o=h=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new By(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new By(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oA(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Ct(a,e){return a<e?-1:a>e?1:0}function rd(a,e){const i=Math.min(a.length,e.length);for(let s=0;s<i;s++){const o=a.charAt(s),h=e.charAt(s);if(o!==h)return Gf(o)===Gf(h)?Ct(o,h):Gf(o)?1:-1}return Ct(a.length,e.length)}const uA=55296,cA=57343;function Gf(a){const e=a.charCodeAt(0);return e>=uA&&e<=cA}function Ta(a,e,i){return a.length===e.length&&a.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="__name__";class ii{constructor(e,i,s){i===void 0?i=0:i>e.length&&pt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&pt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ii.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Ct(e.length,i.length)}static compareSegments(e,i){const s=ii.isNumericId(e),o=ii.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ii.extractNumericId(e).compare(ii.extractNumericId(i)):rd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class Jt extends ii{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new rt(F.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const hA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ii{construct(e,i,s){return new je(e,i,s)}static isValidIdentifier(e){return hA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ky}static keyField(){return new je([ky])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new rt(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new rt(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new rt(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new rt(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.path=e}static fromPath(e){return new ct(Jt.fromString(e))}static fromName(e){return new ct(Jt.fromString(e).popFirst(5))}static empty(){return new ct(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ct(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(a,e,i){if(!i)throw new rt(F.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function fA(a,e,i,s){if(e===!0&&s===!0)throw new rt(F.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function jy(a){if(!ct.isDocumentKey(a))throw new rt(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function qy(a){if(ct.isDocumentKey(a))throw new rt(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function uv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function fc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":pt(12329,{type:typeof a})}function Pn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new rt(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(a);throw new rt(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(a,e){const i={typeString:a};return e&&(i.value=e),i}function lo(a,e){if(!uv(a))throw new rt(F.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){i=`JSON missing required field: '${s}'`;break}const d=a[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new rt(F.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=-62135596800,Gy=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Gy);return new Wt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Hy)throw new rt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gy}_compareTo(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(lo(e,Wt._jsonSchema))return new Wt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:_e("string",Wt._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static fromTimestamp(e){return new vt(e)}static min(){return new vt(new Wt(0,0))}static max(){return new vt(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl=-1;function dA(a,e){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(s===1e9?new Wt(i+1,0):new Wt(i,s));return new vr(o,ct.empty(),e)}function mA(a){return new vr(a.readTime,a.key,Wl)}class vr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new vr(vt.min(),ct.empty(),Wl)}static max(){return new vr(vt.max(),ct.empty(),Wl)}}function gA(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=ct.comparator(a.documentKey,e.documentKey),i!==0?i:Ct(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(a){if(a.code!==F.FAILED_PRECONDITION||a.message!==pA)throw a;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,s)=>{i(e)})}static reject(e){return new X((i,s)=>{s(e)})}static waitFor(e){return new X((i,s)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},v=>s(v))}),d=!0,h===o&&i()})}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next(o=>o?X.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,h)=>{s.push(i.call(this,o,h))}),this.waitFor(s)}static mapArray(e,i){return new X((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&s(d)},A=>o(A))}})}static doWhile(e,i){return new X((s,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):s()};h()})}}function _A(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Va(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=-1;function mc(a){return a==null}function nc(a){return a===0&&1/a==-1/0}function vA(a){return typeof a=="number"&&Number.isInteger(a)&&!nc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="";function EA(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Qy(e)),e=TA(a.get(i),e);return Qy(e)}function TA(a,e){let i=e;const s=a.length;for(let o=0;o<s;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case cv:i+="";break;default:i+=h}}return i}function Qy(a){return a+cv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function wr(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function hv(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||ke.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ke.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ke.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ku(this.root,e,this.comparator,!0)}}class ku{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ke{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ke.RED,this.left=o??ke.EMPTY,this.right=h??ke.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ke(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ke.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ke.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ke.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ke.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pt(27949);return e+(this.isRed()?0:1)}}ke.EMPTY=null,ke.RED=!0,ke.BLACK=!1;ke.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new ke(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new pn([])}unionWith(e){let i=new we(je.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new pn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new fv("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const AA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(a){if(jt(!!a,39018),typeof a=="string"){let e=0;const i=AA.exec(a);if(jt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(a.seconds),nanos:he(a.nanos)}}function he(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Tr(a){return typeof a=="string"?qe.fromBase64String(a):qe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="server_timestamp",mv="__type__",gv="__previous_value__",pv="__local_write_time__";function Vd(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[mv])==null?void 0:s.stringValue)===dv}function gc(a){const e=a.mapValue.fields[gv];return Vd(e)?gc(e):e}function to(a){const e=Er(a.mapValue.fields[pv].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,i,s,o,h,d,g,v,_,A){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A}}const ic="(default)";class eo{constructor(e,i){this.projectId=e,this.database=i||ic}static empty(){return new eo("","")}get isDefaultDatabase(){return this.database===ic}isEqual(e){return e instanceof eo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="__type__",bA="__max__",ju={mapValue:{}},_v="__vector__",rc="value";function Ar(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Vd(a)?4:wA(a)?9007199254740991:RA(a)?10:11:pt(28295,{value:a})}function oi(a,e){if(a===e)return!0;const i=Ar(a);if(i!==Ar(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return to(a).isEqual(to(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Er(o.timestampValue),g=Er(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,e);case 5:return a.stringValue===e.stringValue;case 6:return function(o,h){return Tr(o.bytesValue).isEqual(Tr(h.bytesValue))}(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(a,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?nc(d)===nc(g):isNaN(d)&&isNaN(g)}return!1}(a,e);case 9:return Ta(a.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Fy(d)!==Fy(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!oi(d[v],g[v])))return!1;return!0}(a,e);default:return pt(52216,{left:a})}}function no(a,e){return(a.values||[]).find(i=>oi(i,e))!==void 0}function Aa(a,e){if(a===e)return 0;const i=Ar(a),s=Ar(e);if(i!==s)return Ct(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ct(a.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),v=he(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(a,e);case 3:return Ky(a.timestampValue,e.timestampValue);case 4:return Ky(to(a),to(e));case 5:return rd(a.stringValue,e.stringValue);case 6:return function(h,d){const g=Tr(h),v=Tr(d);return g.compareTo(v)}(a.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=Ct(g[_],v[_]);if(A!==0)return A}return Ct(g.length,v.length)}(a.referenceValue,e.referenceValue);case 8:return function(h,d){const g=Ct(he(h.latitude),he(d.latitude));return g!==0?g:Ct(he(h.longitude),he(d.longitude))}(a.geoPointValue,e.geoPointValue);case 9:return Xy(a.arrayValue,e.arrayValue);case 10:return function(h,d){var w,k,Y,tt;const g=h.fields||{},v=d.fields||{},_=(w=g[rc])==null?void 0:w.arrayValue,A=(k=v[rc])==null?void 0:k.arrayValue,C=Ct(((Y=_==null?void 0:_.values)==null?void 0:Y.length)||0,((tt=A==null?void 0:A.values)==null?void 0:tt.length)||0);return C!==0?C:Xy(_,A)}(a.mapValue,e.mapValue);case 11:return function(h,d){if(h===ju.mapValue&&d===ju.mapValue)return 0;if(h===ju.mapValue)return 1;if(d===ju.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let C=0;C<v.length&&C<A.length;++C){const w=rd(v[C],A[C]);if(w!==0)return w;const k=Aa(g[v[C]],_[A[C]]);if(k!==0)return k}return Ct(v.length,A.length)}(a.mapValue,e.mapValue);default:throw pt(23264,{he:i})}}function Ky(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ct(a,e);const i=Er(a),s=Er(e),o=Ct(i.seconds,s.seconds);return o!==0?o:Ct(i.nanos,s.nanos)}function Xy(a,e){const i=a.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Aa(i[o],s[o]);if(h)return h}return Ct(i.length,s.length)}function Sa(a){return sd(a)}function sd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=Er(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Tr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ct.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=sd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${sd(i.fields[d])}`;return o+"}"}(a.mapValue):pt(61005,{value:a})}function Fu(a){switch(Ar(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(a);return e?16+Fu(e):16;case 5:return 2*a.stringValue.length;case 6:return Tr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,h)=>o+Fu(h),0)}(a.arrayValue);case 10:case 11:return function(s){let o=0;return wr(s.fields,(h,d)=>{o+=h.length+Fu(d)}),o}(a.mapValue);default:throw pt(13486,{value:a})}}function Zy(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function ad(a){return!!a&&"integerValue"in a}function Id(a){return!!a&&"arrayValue"in a}function $y(a){return!!a&&"nullValue"in a}function Jy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Yu(a){return!!a&&"mapValue"in a}function RA(a){var i,s;return((s=(((i=a==null?void 0:a.mapValue)==null?void 0:i.fields)||{})[yv])==null?void 0:s.stringValue)===_v}function Yl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return wr(a.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Yl(s)),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Yl(a.arrayValue.values[i]);return e}return{...a}}function wA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===bA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Yu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(i)}setAll(e){let i=je.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Yl(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Yu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Yu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){wr(i,(o,h)=>e[o]=h);for(const o of s)delete e[o]}clone(){return new rn(Yl(this.value))}}function vv(a){const e=[];return wr(a.fields,(i,s)=>{const o=new je([i]);if(Yu(s)){const h=vv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new pn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ke(e,0,vt.min(),vt.min(),vt.min(),rn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,vt.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,vt.min(),vt.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,vt.min(),vt.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.position=e,this.inclusive=i}}function Wy(a,e,i){let s=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?s=ct.comparator(ct.fromName(d.referenceValue),i.key):s=Aa(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function t_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!oi(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,i="asc"){this.field=e,this.dir=i}}function DA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{}class ye extends Ev{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new VA(e,i,s):i==="array-contains"?new xA(e,s):i==="in"?new MA(e,s):i==="not-in"?new OA(e,s):i==="array-contains-any"?new UA(e,s):new ye(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new IA(e,s):new NA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Aa(i,this.value)):i!==null&&Ar(this.value)===Ar(i)&&this.matchesComparison(Aa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends Ev{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bn(e,i)}matches(e){return Tv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Tv(a){return a.op==="and"}function Av(a){return CA(a)&&Tv(a)}function CA(a){for(const e of a.filters)if(e instanceof Bn)return!1;return!0}function ld(a){if(a instanceof ye)return a.field.canonicalString()+a.op.toString()+Sa(a.value);if(Av(a))return a.filters.map(e=>ld(e)).join(",");{const e=a.filters.map(i=>ld(i)).join(",");return`${a.op}(${e})`}}function Sv(a,e){return a instanceof ye?function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&oi(s.value,o.value)}(a,e):a instanceof Bn?function(s,o){return o instanceof Bn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((h,d,g)=>h&&Sv(d,o.filters[g]),!0):!1}(a,e):void pt(19439)}function bv(a){return a instanceof ye?function(i){return`${i.field.canonicalString()} ${i.op} ${Sa(i.value)}`}(a):a instanceof Bn?function(i){return i.op.toString()+" {"+i.getFilters().map(bv).join(" ,")+"}"}(a):"Filter"}class VA extends ye{constructor(e,i,s){super(e,i,s),this.key=ct.fromName(s.referenceValue)}matches(e){const i=ct.comparator(e.key,this.key);return this.matchesComparison(i)}}class IA extends ye{constructor(e,i){super(e,"in",i),this.keys=Rv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class NA extends ye{constructor(e,i){super(e,"not-in",i),this.keys=Rv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Rv(a,e){var i;return(((i=e.arrayValue)==null?void 0:i.values)||[]).map(s=>ct.fromName(s.referenceValue))}class xA extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Id(i)&&no(i.arrayValue,this.value)}}class MA extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&no(this.value.arrayValue,i)}}class OA extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!no(this.value.arrayValue,i)}}class UA extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Id(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>no(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function e_(a,e=null,i=[],s=[],o=null,h=null,d=null){return new LA(a,e,i,s,o,h,d)}function Nd(a){const e=Et(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>ld(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Sa(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Sa(s)).join(",")),e.Te=i}return e.Te}function xd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!DA(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Sv(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!t_(a.startAt,e.startAt)&&t_(a.endAt,e.endAt)}function od(a){return ct.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function zA(a,e,i,s,o,h,d,g){return new Ia(a,e,i,s,o,h,d,g)}function Md(a){return new Ia(a)}function n_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function wv(a){return a.collectionGroup!==null}function Kl(a){const e=Et(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(je.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new io(h,s))}),i.has(je.keyField().canonicalString())||e.Ie.push(new io(je.keyField(),s))}return e.Ie}function ri(a){const e=Et(a);return e.Ee||(e.Ee=PA(e,Kl(a))),e.Ee}function PA(a,e){if(a.limitType==="F")return e_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new io(o.field,h)});const i=a.endAt?new sc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new sc(a.startAt.position,a.startAt.inclusive):null;return e_(a.path,a.collectionGroup,e,a.filters,a.limit,i,s)}}function ud(a,e){const i=a.filters.concat([e]);return new Ia(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function cd(a,e,i){return new Ia(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function pc(a,e){return xd(ri(a),ri(e))&&a.limitType===e.limitType}function Dv(a){return`${Nd(ri(a))}|lt:${a.limitType}`}function ma(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>bv(o)).join(", ")}]`),mc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Sa(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Sa(o)).join(",")),`Target(${s})`}(ri(a))}; limitType=${a.limitType})`}function yc(a,e){return e.isFoundDocument()&&function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ct.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,e)&&function(s,o){for(const h of Kl(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(a,e)&&function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0}(a,e)&&function(s,o){return!(s.startAt&&!function(d,g,v){const _=Wy(d,g,v);return d.inclusive?_<=0:_<0}(s.startAt,Kl(s),o)||s.endAt&&!function(d,g,v){const _=Wy(d,g,v);return d.inclusive?_>=0:_>0}(s.endAt,Kl(s),o))}(a,e)}function BA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Cv(a){return(e,i)=>{let s=!1;for(const o of Kl(a)){const h=kA(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function kA(a,e,i){const s=a.field.isKeyField()?ct.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?Aa(v,_):pt(42886)}(a.field,e,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return pt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){wr(this.inner,(i,s)=>{for(const[o,h]of s)e(o,h)})}isEmpty(){return hv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA=new ie(ct.comparator);function zi(){return jA}const Vv=new ie(ct.comparator);function Hl(...a){let e=Vv;for(const i of a)e=e.insert(i.key,i);return e}function Iv(a){let e=Vv;return a.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ms(){return Xl()}function Nv(){return Xl()}function Xl(){return new vs(a=>a.toString(),(a,e)=>a.isEqual(e))}const qA=new ie(ct.comparator),HA=new we(ct.comparator);function Vt(...a){let e=HA;for(const i of a)e=e.add(i);return e}const GA=new we(Ct);function QA(){return GA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Od(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}function xv(a){return{integerValue:""+a}}function FA(a,e){return vA(e)?xv(e):Od(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(){this._=void 0}}function YA(a,e,i){return a instanceof ro?function(o,h){const d={fields:{[mv]:{stringValue:dv},[pv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Vd(h)&&(h=gc(h)),h&&(d.fields[gv]=h),{mapValue:d}}(i,e):a instanceof so?Ov(a,e):a instanceof ao?Uv(a,e):function(o,h){const d=Mv(o,h),g=i_(d)+i_(o.Ae);return ad(d)&&ad(o.Ae)?xv(g):Od(o.serializer,g)}(a,e)}function KA(a,e,i){return a instanceof so?Ov(a,e):a instanceof ao?Uv(a,e):i}function Mv(a,e){return a instanceof ac?function(s){return ad(s)||function(h){return!!h&&"doubleValue"in h}(s)}(e)?e:{integerValue:0}:null}class ro extends _c{}class so extends _c{constructor(e){super(),this.elements=e}}function Ov(a,e){const i=Lv(e);for(const s of a.elements)i.some(o=>oi(o,s))||i.push(s);return{arrayValue:{values:i}}}class ao extends _c{constructor(e){super(),this.elements=e}}function Uv(a,e){let i=Lv(e);for(const s of a.elements)i=i.filter(o=>!oi(o,s));return{arrayValue:{values:i}}}class ac extends _c{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function i_(a){return he(a.integerValue||a.doubleValue)}function Lv(a){return Id(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,i){this.field=e,this.transform=i}}function ZA(a,e){return a.field.isEqual(e.field)&&function(s,o){return s instanceof so&&o instanceof so||s instanceof ao&&o instanceof ao?Ta(s.elements,o.elements,oi):s instanceof ac&&o instanceof ac?oi(s.Ae,o.Ae):s instanceof ro&&o instanceof ro}(a.transform,e.transform)}class $A{constructor(e,i){this.version=e,this.transformResults=i}}class sn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new sn}static exists(e){return new sn(void 0,e)}static updateTime(e){return new sn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ku(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class vc{}function zv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Ec(a.key,sn.none()):new oo(a.key,a.data,sn.none());{const i=a.data,s=rn.empty();let o=new we(je.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Dr(a.key,s,new pn(o.toArray()),sn.none())}}function JA(a,e,i){a instanceof oo?function(o,h,d){const g=o.value.clone(),v=s_(o.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,e,i):a instanceof Dr?function(o,h,d){if(!Ku(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=s_(o.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(Pv(o)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(a,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Zl(a,e,i,s){return a instanceof oo?function(h,d,g,v){if(!Ku(h.precondition,d))return g;const _=h.value.clone(),A=a_(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(a,e,i,s):a instanceof Dr?function(h,d,g,v){if(!Ku(h.precondition,d))return g;const _=a_(h.fieldTransforms,v,d),A=d.data;return A.setAll(Pv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(a,e,i,s):function(h,d,g){return Ku(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,e,i)}function WA(a,e){let i=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),h=Mv(s.transform,o||null);h!=null&&(i===null&&(i=rn.empty()),i.set(s.field,h))}return i||null}function r_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ta(s,o,(h,d)=>ZA(h,d))}(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class oo extends vc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Dr extends vc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Pv(a){const e=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);e.set(i,s)}}),e}function s_(a,e,i){const s=new Map;jt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,KA(d,g,i[o]))}return s}function a_(a,e,i){const s=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);s.set(o.field,YA(h,d,e))}return s}class Ec extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tS extends vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&JA(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Zl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Nv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const v=zv(d,g);v!==null&&s.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(vt.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(i,s)=>r_(i,s))&&Ta(this.baseMutations,e.baseMutations,(i,s)=>r_(i,s))}}class Ud{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){jt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return qA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new Ud(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Mt;function rS(a){switch(a){case F.OK:return pt(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return pt(15467,{code:a})}}function Bv(a){if(a===void 0)return Li("GRPC error has no .code"),F.UNKNOWN;switch(a){case pe.OK:return F.OK;case pe.CANCELLED:return F.CANCELLED;case pe.UNKNOWN:return F.UNKNOWN;case pe.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case pe.INTERNAL:return F.INTERNAL;case pe.UNAVAILABLE:return F.UNAVAILABLE;case pe.UNAUTHENTICATED:return F.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case pe.NOT_FOUND:return F.NOT_FOUND;case pe.ALREADY_EXISTS:return F.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return F.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case pe.ABORTED:return F.ABORTED;case pe.OUT_OF_RANGE:return F.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return F.UNIMPLEMENTED;case pe.DATA_LOSS:return F.DATA_LOSS;default:return pt(39323,{code:a})}}(Mt=pe||(pe={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new pr([4294967295,4294967295],0);function l_(a){const e=sS().encode(a),i=new tv;return i.update(e),new Uint8Array(i.digest())}function o_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new pr([i,s],0),new pr([o,h],0)]}class Ld{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Gl(`Invalid padding: ${i}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=pr.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(pr.fromNumber(s)));return o.compare(aS)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=l_(e),[s,o]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ld(h,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.ge===0)return;const i=l_(e),[s,o]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,uo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Tc(vt.min(),o,new ie(Ct),zi(),Vt())}}class uo{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new uo(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class kv{constructor(e,i){this.targetId=e,this.Ce=i}}class jv{constructor(e,i,s=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class u_{constructor(){this.ve=0,this.Fe=c_(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),s=Vt();return this.Fe.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:pt(38017,{changeType:h})}}),new uo(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=c_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lS{constructor(e){this.Ge=e,this.ze=new Map,this.je=zi(),this.Je=qu(),this.He=qu(),this.Ye=new ie(Ct)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:pt(56790,{state:e.state})}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach((s,o)=>{this.rt(o)&&i(o)})}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(od(h))if(s===0){const d=new ct(h.path);this.et(i,d,Ke.newNoDocument(d,vt.min()))}else jt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),v=g?this.ct(g,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Tr(s).toUint8Array()}catch(v){if(v instanceof fv)return Ea("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Ld(d,o,h)}catch(v){return Ea(v instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach(h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)}),o}Tt(e){const i=new Map;this.ze.forEach((h,d)=>{const g=this.ot(d);if(g){if(h.current&&od(g.target)){const v=new ct(g.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,Ke.newNoDocument(v,e))}h.Be&&(i.set(d,h.ke()),h.qe())}});let s=Vt();this.He.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.je.forEach((h,d)=>d.setReadTime(e));const o=new Tc(e,i,this.Ye,this.je,s);return this.je=zi(),this.Je=qu(),this.He=qu(),this.Ye=new ie(Ct),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new u_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(Ct),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(Ct),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach(i=>{this.et(e,i,null)})}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function qu(){return new ie(ct.comparator)}function c_(){return new ie(ct.comparator)}const oS={asc:"ASCENDING",desc:"DESCENDING"},uS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cS={and:"AND",or:"OR"};class hS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function hd(a,e){return a.useProto3Json||mc(e)?e:{value:e}}function lc(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function fS(a,e){return lc(a,e.toTimestamp())}function si(a){return jt(!!a,49232),vt.fromTimestamp(function(i){const s=Er(i);return new Wt(s.seconds,s.nanos)}(a))}function zd(a,e){return fd(a,e).canonicalString()}function fd(a,e){const i=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(a).child("documents");return e===void 0?i:i.child(e)}function Hv(a){const e=Jt.fromString(a);return jt(Kv(e),10190,{key:e.toString()}),e}function dd(a,e){return zd(a.databaseId,e.path)}function Qf(a,e){const i=Hv(e);if(i.get(1)!==a.databaseId.projectId)throw new rt(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new rt(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ct(Qv(i))}function Gv(a,e){return zd(a.databaseId,e)}function dS(a){const e=Hv(a);return e.length===4?Jt.emptyPath():Qv(e)}function md(a){return new Jt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Qv(a){return jt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function h_(a,e,i){return{name:dd(a,e),fields:i.value.mapValue.fields}}function mS(a,e){let i;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(jt(A===void 0||typeof A=="string",58123),qe.fromBase64String(A||"")):(jt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),qe.fromUint8Array(A||new Uint8Array))}(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?F.UNKNOWN:Bv(_.code);return new rt(A,_.message||"")}(d);i=new jv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qf(a,s.document.name),h=si(s.document.updateTime),d=s.document.createTime?si(s.document.createTime):vt.min(),g=new rn({mapValue:{fields:s.document.fields}}),v=Ke.newFoundDocument(o,h,d,g),_=s.targetIds||[],A=s.removedTargetIds||[];i=new Xu(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qf(a,s.document),h=s.readTime?si(s.readTime):vt.min(),d=Ke.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Xu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qf(a,s.document),h=s.removedTargetIds||[];i=new Xu([],h,o,null)}else{if(!("filter"in e))return pt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new iS(o,h),g=s.targetId;i=new kv(g,d)}}return i}function gS(a,e){let i;if(e instanceof oo)i={update:h_(a,e.key,e.value)};else if(e instanceof Ec)i={delete:dd(a,e.key)};else if(e instanceof Dr)i={update:h_(a,e.key,e.data),updateMask:bS(e.fieldMask)};else{if(!(e instanceof tS))return pt(16599,{Vt:e.type});i={verify:dd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(h,d){const g=d.transform;if(g instanceof ro)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof so)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ac)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:fS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:pt(27497)}(a,e.precondition)),i}function pS(a,e){return a&&a.length>0?(jt(e!==void 0,14353),a.map(i=>function(o,h){let d=o.updateTime?si(o.updateTime):si(h);return d.isEqual(vt.min())&&(d=si(h)),new $A(d,o.transformResults||[])}(i,e))):[]}function yS(a,e){return{documents:[Gv(a,e.path)]}}function _S(a,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Gv(a,o);const h=function(_){if(_.length!==0)return Yv(Bn.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(w){return{field:ga(w.field),direction:TS(w.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=hd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ft:i,parent:o}}function vS(a){let e=dS(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){jt(s===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(C){const w=Fv(C);return w instanceof Bn&&Av(w)?w.getFilters():[w]}(i.where));let d=[];i.orderBy&&(d=function(C){return C.map(w=>function(Y){return new io(pa(Y.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(w))}(i.orderBy));let g=null;i.limit&&(g=function(C){let w;return w=typeof C=="object"?C.value:C,mc(w)?null:w}(i.limit));let v=null;i.startAt&&(v=function(C){const w=!!C.before,k=C.values||[];return new sc(k,w)}(i.startAt));let _=null;return i.endAt&&(_=function(C){const w=!C.before,k=C.values||[];return new sc(k,w)}(i.endAt)),zA(e,o,d,h,g,"F",v,_)}function ES(a,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Fv(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=pa(i.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=pa(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=pa(i.unaryFilter.field);return ye.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=pa(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}}(a):a.fieldFilter!==void 0?function(i){return ye.create(pa(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return Bn.create(i.compositeFilter.filters.map(s=>Fv(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}}(i.compositeFilter.op))}(a):pt(30097,{filter:a})}function TS(a){return oS[a]}function AS(a){return uS[a]}function SS(a){return cS[a]}function ga(a){return{fieldPath:a.canonicalString()}}function pa(a){return je.fromServerFormat(a.fieldPath)}function Yv(a){return a instanceof ye?function(i){if(i.op==="=="){if(Jy(i.value))return{unaryFilter:{field:ga(i.field),op:"IS_NAN"}};if($y(i.value))return{unaryFilter:{field:ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Jy(i.value))return{unaryFilter:{field:ga(i.field),op:"IS_NOT_NAN"}};if($y(i.value))return{unaryFilter:{field:ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ga(i.field),op:AS(i.op),value:i.value}}}(a):a instanceof Bn?function(i){const s=i.getFilters().map(o=>Yv(o));return s.length===1?s[0]:{compositeFilter:{op:SS(i.op),filters:s}}}(a):pt(54877,{filter:a})}function bS(a){const e=[];return a.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Kv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,i,s,o,h=vt.min(),d=vt.min(),g=qe.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.yt=e}}function wS(a){const e=vS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?cd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.Cn=new CS}addToCollectionParentIndex(e,i){return this.Cn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(vr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(vr.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class CS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Jt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Xv=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(Xv,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ba(0)}static cr(){return new ba(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LruGarbageCollector",VS=1048576;function m_([a,e],[i,s]){const o=Ct(a,i);return o===0?Ct(e,s):o}class IS{constructor(e){this.Ir=e,this.buffer=new we(m_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();m_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class NS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){st(d_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Va(i)?st(d_,"Ignoring IndexedDB error during garbage collection: ",i):await Ca(i)}await this.Vr(3e5)})}}class xS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return X.resolve(dc.ce);const s=new IS(i);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(f_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.yr(e,i))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,d=Date.now(),this.nthSequenceNumber(e,o))).next(C=>(s=C,g=Date.now(),this.removeTargets(e,s,i))).next(C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(e,s))).next(C=>(_=Date.now(),da()<=Ot.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${C} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:C})))}}function MS(a,e){return new xS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.changes=new vs(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Zl(s.mutation,o,pn.empty(),Wt.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=ms();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(h=>{let d=Hl();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ms();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let h=zi();const d=Xl(),g=function(){return Xl()}();return i.forEach((v,_)=>{const A=s.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Dr)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Zl(A.mutation,_,A.mutation.getFieldMask(),Wt.now())):d.set(_.key,pn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>g.set(_,new US(A,d.get(_)??null))),g))}recalculateAndSaveOverlays(e,i){const s=Xl();let o=new ie((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||pn.empty();A=g.applyToLocalView(_,A),s.set(v,A);const C=(o.get(g.batchId)||Vt()).add(v);o=o.insert(g.batchId,C)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,C=Nv();A.forEach(w=>{if(!h.has(w)){const k=zv(i.get(w),s.get(w));k!==null&&C.set(w,k),h=h.add(w)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,C))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ct.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):wv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):X.resolve(ms());let g=Wl,v=h;return d.next(_=>X.forEach(_,(A,C)=>(g<C.largestBatchId&&(g=C.largestBatchId),h.get(A)?X.resolve():this.remoteDocumentCache.getEntry(e,A).next(w=>{v=v.insert(A,w)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Vt())).next(A=>({batchId:g,changes:Iv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ct(i)).next(s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Hl();return this.indexManager.getCollectionParents(e,h).next(g=>X.forEach(g,v=>{const _=function(C,w){return new Ia(w,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(A=>{A.forEach((C,w)=>{d=d.insert(C,w)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Ke.newInvalidDocument(A)))});let g=Hl();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Zl(A.mutation,_,pn.empty(),Wt.now()),yc(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,function(o){return{name:o.name,query:wS(o.bundledQuery),readTime:si(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.overlays=new ie(ct.comparator),this.qr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ms();return X.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&s.set(o,h)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,h)=>{this.St(e,i,h)}),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=ms(),h=i.length+1,d=new ct(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>s&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new ie((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=h.get(_.largestBatchId);A===null&&(A=ms(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=ms(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=o)););return X.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new nS(i,s));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.Qr=new we(Me.$r),this.Ur=new we(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach(s=>this.removeReference(s,i))}jr(e){const i=new ct(new Jt([])),s=new Me(i,e),o=new Me(i,e+1),h=[];return this.Ur.forEachInRange([s,o],d=>{this.Gr(d),h.push(d.key)}),h}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new ct(new Jt([])),s=new Me(i,e),o=new Me(i,e+1);let h=Vt();return this.Ur.forEachInRange([s,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Me(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return ct.comparator(e.key,i.key)||Ct(e.Yr,i.Yr)}static Kr(e,i){return Ct(e.Yr,i.Yr)||ct.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Me.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new eS(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return X.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Cd:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],d=>{const g=this.Xr(d.Yr);h.push(g)}),X.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Ct);return i.forEach(o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],g=>{s=s.add(g.Yr)})}),X.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;ct.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ct(h),0);let g=new we(Ct);return this.Zr.forEachWhile(v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(g=g.add(v.Yr)),!0)},d),X.resolve(this.ti(g))}ti(e){const i=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return X.forEach(i.mutations,o=>{const h=new Me(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,i){const s=new Me(i,0),o=this.Zr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.ri=e,this.docs=function(){return new ie(ct.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=zi();return i.forEach(o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ke.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=zi();const d=i.path,g=new ct(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||gA(mA(A),s)<=0||(o.has(A.key)||yc(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return X.resolve(h)}getAllFromCollectionGroup(e,i,s,o){pt(9500)}ii(e,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new qS(this)}getSize(e){return X.resolve(this.size)}}class qS extends OS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),X.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.persistence=e,this.si=new vs(i=>Nd(i),xd),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pd,this.targetCount=0,this.ai=ba.ur()}forEachTarget(e,i){return this.si.forEach((s,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),X.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ba(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.Pr(i),X.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),X.waitFor(h).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),X.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i){this.ui={},this.overlays={},this.ci=new dc(0),this.li=!1,this.li=!0,this.hi=new BS,this.referenceDelegate=e(this),this.Pi=new HS(this),this.indexManager=new DS,this.remoteDocumentCache=function(o){return new jS(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new RS(i),this.Ii=new zS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new PS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new kS(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const o=new GS(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(h=>this.referenceDelegate.di(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}Ai(e,i){return X.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,i)))}}class GS extends yA{constructor(e){super(),this.currentSequenceNumber=e}}class Bd{constructor(e){this.persistence=e,this.Ri=new Pd,this.Vi=null}static mi(e){return new Bd(e)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.fi.add(h.toString()))}).next(()=>s.removeTargetData(e,i))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,s=>{const o=ct.fromPath(s);return this.gi(e,o).next(h=>{h||i.removeEntry(o,vt.min())})}).next(()=>(this.Vi=null,i.apply(e)))}updateLimboDocument(e,i){return this.gi(e,i).next(s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())})}Ti(e){return 0}gi(e,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class oc{constructor(e,i){this.persistence=e,this.pi=new vs(s=>EA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=MS(this,i)}static mi(e,i){return new oc(e,i)}Ei(){}di(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}wr(e){let i=0;return this.pr(e,s=>{i++}).next(()=>i)}pr(e,i){return X.forEach(this.pi,(s,o)=>this.br(e,s,o).next(h=>h?X.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,d=>this.br(e,d,i).next(g=>{g||(s++,h.removeEntry(d,vt.min()))})).next(()=>h.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),X.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fu(e.data.value)),i}br(e,i,s){return X.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new kd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return PT()?8:_A(LT())>0?6:4}()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ws(e,i,o,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new QS;return this.Ss(e,i,d).next(g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)})}).next(()=>h.result)}bs(e,i,s,o){return s.documentReadCount<this.fs?(da()<=Ot.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ma(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(da()<=Ot.DEBUG&&st("QueryEngine","Query:",ma(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(da()<=Ot.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ma(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(i))):X.resolve())}ys(e,i){if(n_(i))return X.resolve(null);let s=ri(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=cd(i,null,"F"),s=ri(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(h=>{const d=Vt(...h);return this.ps.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(v=>{const _=this.Ds(i,g);return this.Cs(i,_,d,v.readTime)?this.ys(e,cd(i,null,"F")):this.vs(e,_,i,v)}))})))}ws(e,i,s,o){return n_(i)||o.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(e,s).next(h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?X.resolve(null):(da()<=Ot.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ma(i)),this.vs(e,d,i,dA(o,Wl)).next(g=>g))})}Ds(e,i){let s=new we(Cv(e));return i.forEach((o,h)=>{yc(e,h)&&(s=s.add(h))}),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return da()<=Ot.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ma(i)),this.ps.getDocumentsMatchingQuery(e,i,vr.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="LocalStore",YS=3e8;class KS{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ie(Ct),this.xs=new vs(h=>Nd(h),xd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ms))}}function XS(a,e,i,s){return new KS(a,e,i,s)}async function $v(a,e){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let v=Vt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next(_=>({Ls:_,removedBatchIds:d,addedBatchIds:g}))})})}function ZS(a,e){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const C=_.batch,w=C.keys();let k=X.resolve();return w.forEach(Y=>{k=k.next(()=>A.getEntry(v,Y)).next(tt=>{const Z=_.docVersions.get(Y);jt(Z!==null,48541),tt.version.compareTo(Z)<0&&(C.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),A.addEntry(tt)))})}),k.next(()=>g.mutationQueue.removeMutationBatch(v,C))}(i,s,e,h).next(()=>h.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let v=Vt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function Jv(a){const e=Et(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Pi.getLastRemoteSnapshotVersion(i))}function $S(a,e){const i=Et(a),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach((A,C)=>{const w=o.get(C);if(!w)return;g.push(i.Pi.removeMatchingKeys(h,A.removedDocuments,C).next(()=>i.Pi.addMatchingKeys(h,A.addedDocuments,C)));let k=w.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(C)!==null?k=k.withResumeToken(qe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(A.resumeToken,s)),o=o.insert(C,k),function(tt,Z,ft){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=YS?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0}(w,k,A)&&g.push(i.Pi.updateTargetData(h,k))});let v=zi(),_=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(JS(h,d,e.documentUpdates).next(A=>{v=A.ks,_=A.qs})),!s.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(h).next(C=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(A)}return X.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ms=o,h))}function JS(a,e,i){let s=Vt(),o=Vt();return i.forEach(h=>s=s.add(h)),e.getEntries(a,s).next(h=>{let d=zi();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),v.isNoDocument()&&v.version.isEqual(vt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):st(jd,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{ks:d,qs:o}})}function WS(a,e){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Cd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function tb(a,e){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Pi.getTargetData(s,e).next(h=>h?(o=h,X.resolve(o)):i.Pi.allocateTargetId(s).next(d=>(o=new dr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s})}async function gd(a,e,i){const s=Et(a),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Va(d))throw d;st(jd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function g_(a,e,i){const s=Et(a);let o=vt.min(),h=Vt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const C=Et(v),w=C.xs.get(A);return w!==void 0?X.resolve(C.Ms.get(w)):C.Pi.getTargetData(_,A)}(s,d,ri(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:vt.min(),i?h:Vt())).next(g=>(eb(s,BA(e),g),{documents:g,Qs:h})))}function eb(a,e,i){let s=a.Os.get(e)||vt.min();i.forEach((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Os.set(e,s)}class p_{constructor(){this.activeTargetIds=QA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nb{constructor(){this.Mo=new p_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class __{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){st(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function pd(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="RestConnection",rb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sb{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ic?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=pd(),g=this.zo(e,i.toUriEncodedString());st(Ff,`Sending RPC '${e}' ${d}:`,g,s);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,h);const{host:_}=new URL(g),A=bd(_);return this.Jo(e,g,v,s,A).then(C=>(st(Ff,`Received RPC '${e}' ${d}: `,C),C),C=>{throw Ea(Ff,`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",s),C})}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Da}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),s&&s.headers.forEach((o,h)=>e[h]=o)}zo(e,i){const s=rb[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class lb extends sb{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=pd();return new Promise((g,v)=>{const _=new ev;_.setWithCredentials(!0),_.listenOnce(nv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Qu.NO_ERROR:const C=_.getResponseJson();st(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(C)),g(C);break;case Qu.TIMEOUT:st(Fe,`RPC '${e}' ${d} timed out`),v(new rt(F.DEADLINE_EXCEEDED,"Request time out"));break;case Qu.HTTP_ERROR:const w=_.getStatus();if(st(Fe,`RPC '${e}' ${d} failed with status:`,w,"response text:",_.getResponseText()),w>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const Y=k==null?void 0:k.error;if(Y&&Y.status&&Y.message){const tt=function(ft){const lt=ft.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(lt)>=0?lt:F.UNKNOWN}(Y.status);v(new rt(tt,Y.message))}else v(new rt(F.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new rt(F.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Fe,`RPC '${e}' ${d} completed.`)}});const A=JSON.stringify(o);st(Fe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",A,s,15)})}T_(e,i,s){const o=pd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=sv(),g=rv(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,s),v.encodeInitMessageHeaders=!0;const A=h.join("");st(Fe,`Creating RPC '${e}' stream ${o}: ${A}`,v);const C=d.createWebChannel(A,v);this.I_(C);let w=!1,k=!1;const Y=new ab({Yo:Z=>{k?st(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(w||(st(Fe,`Opening RPC '${e}' stream ${o} transport.`),C.open(),w=!0),st(Fe,`RPC '${e}' stream ${o} sending:`,Z),C.send(Z))},Zo:()=>C.close()}),tt=(Z,ft,lt)=>{Z.listen(ft,ht=>{try{lt(ht)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return tt(C,ql.EventType.OPEN,()=>{k||(st(Fe,`RPC '${e}' stream ${o} transport opened.`),Y.o_())}),tt(C,ql.EventType.CLOSE,()=>{k||(k=!0,st(Fe,`RPC '${e}' stream ${o} transport closed`),Y.a_(),this.E_(C))}),tt(C,ql.EventType.ERROR,Z=>{k||(k=!0,Ea(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),Y.a_(new rt(F.UNAVAILABLE,"The operation could not be completed")))}),tt(C,ql.EventType.MESSAGE,Z=>{var ft;if(!k){const lt=Z.data[0];jt(!!lt,16349);const ht=lt,Ut=(ht==null?void 0:ht.error)||((ft=ht[0])==null?void 0:ft.error);if(Ut){st(Fe,`RPC '${e}' stream ${o} received error:`,Ut);const Tt=Ut.status;let zt=function(D){const N=pe[D];if(N!==void 0)return Bv(N)}(Tt),x=Ut.message;zt===void 0&&(zt=F.INTERNAL,x="Unknown error status: "+Tt+" with message "+Ut.message),k=!0,Y.a_(new rt(zt,x)),C.close()}else st(Fe,`RPC '${e}' stream ${o} received:`,lt),Y.u_(lt)}}),tt(g,iv.STAT_EVENT,Z=>{Z.stat===id.PROXY?st(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===id.NOPROXY&&st(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Y.__()},0),Y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(i=>i===e)}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(a){return new hS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="PersistentStream";class t0{constructor(e,i,s,o,h,d,g,v){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===F.RESOURCE_EXHAUSTED?(Li(i.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===i&&this.G_(s,o)},s=>{e(()=>{const o=new rt(F.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return st(v_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget(()=>this.D_===e?i():(st(v_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ob extends t0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=mS(this.serializer,e),s=function(h){if(!("targetChange"in h))return vt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?si(d.readTime):vt.min()}(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=md(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=od(v)?{documents:yS(h,v)}:{query:_S(h,v).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=qv(h,d.resumeToken);const _=hd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=lc(h,d.snapshotVersion.toTimestamp());const _=hd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const s=ES(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=md(this.serializer),i.removeTarget=e,this.q_(i)}}class ub extends t0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=pS(e.writeResults,e.commitTime),s=si(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=md(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>gS(this.serializer,s))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{}class hb extends cb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(F.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Go(e,fd(i,s),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(F.UNKNOWN,h.toString())})}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Ho(e,fd(i,s),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(F.UNKNOWN,d.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class fb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Li(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="RemoteStore";class db{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(d=>{s.enqueueAndForget(async()=>{Es(this)&&(st(_s,"Restarting streams for network reachability change."),await async function(v){const _=Et(v);_.Ea.add(4),await co(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Sc(_)}(this))})}),this.Ra=new fb(s,o)}}async function Sc(a){if(Es(a))for(const e of a.da)await e(!0)}async function co(a){for(const e of a.da)await e(!1)}function e0(a,e){const i=Et(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Qd(i)?Gd(i):Na(i).O_()&&Hd(i,e))}function qd(a,e){const i=Et(a),s=Na(i);i.Ia.delete(e),s.O_()&&n0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Es(i)&&i.Ra.set("Unknown"))}function Hd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Na(a).Y_(e)}function n0(a,e){a.Va.Ue(e),Na(a).Z_(e)}function Gd(a){a.Va=new lS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Na(a).start(),a.Ra.ua()}function Qd(a){return Es(a)&&!Na(a).x_()&&a.Ia.size>0}function Es(a){return Et(a).Ea.size===0}function i0(a){a.Va=void 0}async function mb(a){a.Ra.set("Online")}async function gb(a){a.Ia.forEach((e,i)=>{Hd(a,e)})}async function pb(a,e){i0(a),Qd(a)?(a.Ra.ha(e),Gd(a)):a.Ra.set("Unknown")}async function yb(a,e,i){if(a.Ra.set("Online"),e instanceof jv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))}(a,e)}catch(s){st(_s,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uc(a,s)}else if(e instanceof Xu?a.Va.Ze(e):e instanceof kv?a.Va.st(e):a.Va.tt(e),!i.isEqual(vt.min()))try{const s=await Jv(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ia.get(_);A&&h.Ia.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.Ia.get(v);if(!A)return;h.Ia.set(v,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),n0(h,v);const C=new dr(A.target,v,_,A.sequenceNumber);Hd(h,C)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){st(_s,"Failed to raise snapshot:",s),await uc(a,s)}}async function uc(a,e,i){if(!Va(e))throw e;a.Ea.add(1),await co(a),a.Ra.set("Offline"),i||(i=()=>Jv(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{st(_s,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Sc(a)})}function r0(a,e){return e().catch(i=>uc(a,i,e))}async function bc(a){const e=Et(a),i=Sr(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cd;for(;_b(e);)try{const o=await WS(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,vb(e,o)}catch(o){await uc(e,o)}s0(e)&&a0(e)}function _b(a){return Es(a)&&a.Ta.length<10}function vb(a,e){a.Ta.push(e);const i=Sr(a);i.O_()&&i.X_&&i.ea(e.mutations)}function s0(a){return Es(a)&&!Sr(a).x_()&&a.Ta.length>0}function a0(a){Sr(a).start()}async function Eb(a){Sr(a).ra()}async function Tb(a){const e=Sr(a);for(const i of a.Ta)e.ea(i.mutations)}async function Ab(a,e,i){const s=a.Ta.shift(),o=Ud.from(s,e,i);await r0(a,()=>a.remoteSyncer.applySuccessfulWrite(o)),await bc(a)}async function Sb(a,e){e&&Sr(a).X_&&await async function(s,o){if(function(d){return rS(d)&&d!==F.ABORTED}(o.code)){const h=s.Ta.shift();Sr(s).B_(),await r0(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o)),await bc(s)}}(a,e),s0(a)&&a0(a)}async function E_(a,e){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),st(_s,"RemoteStore received new credentials");const s=Es(i);i.Ea.add(3),await co(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Sc(i)}async function bb(a,e){const i=Et(a);e?(i.Ea.delete(2),await Sc(i)):e||(i.Ea.add(2),await co(i),i.Ra.set("Unknown"))}function Na(a){return a.ma||(a.ma=function(i,s,o){const h=Et(i);return h.sa(),new ob(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:mb.bind(null,a),t_:gb.bind(null,a),r_:pb.bind(null,a),H_:yb.bind(null,a)}),a.da.push(async e=>{e?(a.ma.B_(),Qd(a)?Gd(a):a.Ra.set("Unknown")):(await a.ma.stop(),i0(a))})),a.ma}function Sr(a){return a.fa||(a.fa=function(i,s,o){const h=Et(i);return h.sa(),new ub(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Eb.bind(null,a),r_:Sb.bind(null,a),ta:Tb.bind(null,a),na:Ab.bind(null,a)}),a.da.push(async e=>{e?(a.fa.B_(),await bc(a)):(await a.fa.stop(),a.Ta.length>0&&(st(_s,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))})),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Fd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yd(a,e){if(Li("AsyncQueue",`${e}: ${a}`),Va(a))return new rt(F.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{static emptySet(e){return new va(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ct.comparator(i.key,s.key):(i,s)=>ct.comparator(i.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new va;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.ga=new ie(ct.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):pt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ra{constructor(e,i,s,o,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ra(e,i,va.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class wb{constructor(){this.queries=A_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Et(i),h=o.queries;o.queries=A_(),h.forEach((d,g)=>{for(const v of g.Sa)v.onError(s)})})(this,new rt(F.ABORTED,"Firestore shutting down"))}}function A_(){return new vs(a=>Dv(a),pc)}async function l0(a,e){const i=Et(a);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new Rb,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Yd(d,`Initialization of query '${ma(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Kd(i)}async function o0(a,e){const i=Et(a),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Db(a,e){const i=Et(a);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&Kd(i)}function Cb(a,e,i){const s=Et(a),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Kd(a){a.Ca.forEach(e=>{e.next()})}var yd,S_;(S_=yd||(yd={})).Ma="default",S_.Cache="cache";class u0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ra(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e){this.key=e}}class h0{constructor(e){this.key=e}}class Vb{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=Cv(e),this.tu=new va(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new T_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,C)=>{const w=o.get(A),k=yc(this.query,C)?C:null,Y=!!w&&this.mutatedKeys.has(w.key),tt=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Z=!1;w&&k?w.data.isEqual(k.data)?Y!==tt&&(s.track({type:3,doc:k}),Z=!0):this.su(w,k)||(s.track({type:2,doc:k}),Z=!0,(v&&this.eu(k,v)>0||_&&this.eu(k,_)<0)&&(g=!0)):!w&&k?(s.track({type:0,doc:k}),Z=!0):w&&!k&&(s.track({type:1,doc:w}),Z=!0,(v||_)&&(g=!0)),Z&&(k?(d=d.add(k),h=tt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort((A,C)=>function(k,Y){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:Z})}};return tt(k)-tt(Y)}(A.type,C.type)||this.eu(A.doc,C.doc)),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,_=v!==this.Za;return this.Za=v,d.length!==0||_?{snapshot:new Ra(this.query,e.tu,h,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(i=>this.Ya=this.Ya.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ya=this.Ya.delete(i)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const i=[];return e.forEach(s=>{this.Xa.has(s)||i.push(new h0(s))}),this.Xa.forEach(s=>{e.has(s)||i.push(new c0(s))}),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ra.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xd="SyncEngine";class Ib{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Nb{constructor(e){this.key=e,this.hu=!1}}class xb{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new vs(g=>Dv(g),pc),this.Iu=new Map,this.Eu=new Set,this.du=new ie(ct.comparator),this.Au=new Map,this.Ru=new Pd,this.Vu={},this.mu=new Map,this.fu=ba.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Mb(a,e,i=!0){const s=y0(a);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await f0(s,e,i,!0),o}async function Ob(a,e){const i=y0(a);await f0(i,e,!0,!1)}async function f0(a,e,i,s){const o=await tb(a.localStore,ri(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await Ub(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&e0(a.remoteStore,o),g}async function Ub(a,e,i,s,o){a.pu=(C,w,k)=>async function(tt,Z,ft,lt){let ht=Z.view.ru(ft);ht.Cs&&(ht=await g_(tt.localStore,Z.query,!1).then(({documents:x})=>Z.view.ru(x,ht)));const Ut=lt&&lt.targetChanges.get(Z.targetId),Tt=lt&&lt.targetMismatches.get(Z.targetId)!=null,zt=Z.view.applyChanges(ht,tt.isPrimaryClient,Ut,Tt);return R_(tt,Z.targetId,zt.au),zt.snapshot}(a,C,w,k);const h=await g_(a.localStore,e,!0),d=new Vb(e,h.Qs),g=d.ru(h.documents),v=uo.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,v);R_(a,i,_.au);const A=new Ib(e,i,d);return a.Tu.set(e,A),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function Lb(a,e,i){const s=Et(a),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter(d=>!pc(d,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await gd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&qd(s.remoteStore,o.targetId),_d(s,o.targetId)}).catch(Ca)):(_d(s,o.targetId),await gd(s.localStore,o.targetId,!0))}async function zb(a,e){const i=Et(a),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),qd(i.remoteStore,s.targetId))}async function Pb(a,e,i){const s=Qb(a);try{const o=await function(d,g){const v=Et(d),_=Wt.now(),A=g.reduce((k,Y)=>k.add(Y.key),Vt());let C,w;return v.persistence.runTransaction("Locally write mutations","readwrite",k=>{let Y=zi(),tt=Vt();return v.Ns.getEntries(k,A).next(Z=>{Y=Z,Y.forEach((ft,lt)=>{lt.isValidDocument()||(tt=tt.add(ft))})}).next(()=>v.localDocuments.getOverlayedDocuments(k,Y)).next(Z=>{C=Z;const ft=[];for(const lt of g){const ht=WA(lt,C.get(lt.key).overlayedDocument);ht!=null&&ft.push(new Dr(lt.key,ht,vv(ht.value.mapValue),sn.exists(!0)))}return v.mutationQueue.addMutationBatch(k,_,ft,g)}).next(Z=>{w=Z;const ft=Z.applyToLocalDocumentSet(C,tt);return v.documentOverlayCache.saveOverlays(k,Z.batchId,ft)})}).then(()=>({batchId:w.batchId,changes:Iv(C)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,v){let _=d.Vu[d.currentUser.toKey()];_||(_=new ie(Ct)),_=_.insert(g,v),d.Vu[d.currentUser.toKey()]=_}(s,o.batchId,i),await ho(s,o.changes),await bc(s.remoteStore)}catch(o){const h=Yd(o,"Failed to persist write");i.reject(h)}}async function d0(a,e){const i=Et(a);try{const s=await $S(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Au.get(h);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?jt(d.hu,14607):o.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))}),await ho(i,s,e)}catch(s){await Ca(s)}}function b_(a,e,i){const s=Et(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const v=Et(d);v.onlineState=g;let _=!1;v.queries.forEach((A,C)=>{for(const w of C.Sa)w.va(g)&&(_=!0)}),_&&Kd(v)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Bb(a,e,i){const s=Et(a);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new ie(ct.comparator);d=d.insert(h,Ke.newNoDocument(h,vt.min()));const g=Vt().add(h),v=new Tc(vt.min(),new Map,new ie(Ct),d,g);await d0(s,v),s.du=s.du.remove(h),s.Au.delete(e),Zd(s)}else await gd(s.localStore,e,!1).then(()=>_d(s,e,i)).catch(Ca)}async function kb(a,e){const i=Et(a),s=e.batch.batchId;try{const o=await ZS(i.localStore,e);g0(i,s,null),m0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ho(i,o)}catch(o){await Ca(o)}}async function jb(a,e,i){const s=Et(a);try{const o=await function(d,g){const v=Et(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(C=>(jt(C!==null,37113),A=C.keys(),v.mutationQueue.removeMutationBatch(_,C))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(s.localStore,e);g0(s,e,i),m0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ho(s,o)}catch(o){await Ca(o)}}function m0(a,e){(a.mu.get(e)||[]).forEach(i=>{i.resolve()}),a.mu.delete(e)}function g0(a,e,i){const s=Et(a);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function _d(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),i&&a.Pu.yu(s,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach(s=>{a.Ru.containsKey(s)||p0(a,s)})}function p0(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(qd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Zd(a))}function R_(a,e,i){for(const s of i)s instanceof c0?(a.Ru.addReference(s.key,e),qb(a,s)):s instanceof h0?(st(Xd,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||p0(a,s.key)):pt(19791,{wu:s})}function qb(a,e){const i=e.key,s=i.path.canonicalString();a.du.get(i)||a.Eu.has(s)||(st(Xd,"New document in limbo: "+i),a.Eu.add(s),Zd(a))}function Zd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new ct(Jt.fromString(e)),s=a.fu.next();a.Au.set(s,new Nb(i)),a.du=a.du.insert(i,s),e0(a.remoteStore,new dr(ri(Md(i.path)),s,"TargetPurposeLimboResolution",dc.ce))}}async function ho(a,e,i){const s=Et(a),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach((g,v)=>{d.push(s.pu(v,e,i).then(_=>{var A;if((_||i)&&s.isPrimaryClient){const C=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))==null?void 0:A.current;s.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(_){o.push(_);const C=kd.As(v.targetId,_);h.push(C)}}))}),await Promise.all(d),s.Pu.H_(o),await async function(v,_){const A=Et(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>X.forEach(_,w=>X.forEach(w.Es,k=>A.persistence.referenceDelegate.addReference(C,w.targetId,k)).next(()=>X.forEach(w.ds,k=>A.persistence.referenceDelegate.removeReference(C,w.targetId,k)))))}catch(C){if(!Va(C))throw C;st(jd,"Failed to update sequence numbers: "+C)}for(const C of _){const w=C.targetId;if(!C.fromCache){const k=A.Ms.get(w),Y=k.snapshotVersion,tt=k.withLastLimboFreeSnapshotVersion(Y);A.Ms=A.Ms.insert(w,tt)}}}(s.localStore,h))}async function Hb(a,e){const i=Et(a);if(!i.currentUser.isEqual(e)){st(Xd,"User change. New user:",e.toKey());const s=await $v(i.localStore,e);i.currentUser=e,function(h,d){h.mu.forEach(g=>{g.forEach(v=>{v.reject(new rt(F.CANCELLED,d))})}),h.mu.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ho(i,s.Ls)}}function Gb(a,e){const i=Et(a),s=i.Au.get(e);if(s&&s.hu)return Vt().add(s.key);{let o=Vt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function y0(a){const e=Et(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=d0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Bb.bind(null,e),e.Pu.H_=Db.bind(null,e.eventManager),e.Pu.yu=Cb.bind(null,e.eventManager),e}function Qb(a){const e=Et(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jb.bind(null,e),e}class cc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return XS(this.persistence,new FS,e.initialUser,this.serializer)}Cu(e){return new Zv(Bd.mi,this.serializer)}Du(e){return new nb}async terminate(){var e,i;(e=this.gcScheduler)==null||e.stop(),(i=this.indexBackfillerScheduler)==null||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cc.provider={build:()=>new cc};class Fb extends cc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){jt(this.persistence.referenceDelegate instanceof oc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new NS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new Zv(s=>oc.mi(s,i),this.serializer)}}class vd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>b_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Hb.bind(null,this.syncEngine),await bb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wb}()}createDatastore(e){const i=Ac(e.databaseInfo.databaseId),s=function(h){return new lb(h)}(e.databaseInfo);return function(h,d,g,v){return new hb(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,h,d,g){return new db(s,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>b_(this.syncEngine,i,0),function(){return __.v()?new __:new ib}())}createSyncEngine(e,i){return function(o,h,d,g,v,_,A){const C=new xb(o,h,d,g,v,_);return A&&(C.gu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Et(o);st(_s,"RemoteStore shutting down."),h.Ea.add(5),await co(h),h.Aa.shutdown(),h.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(i=this.eventManager)==null||i.terminate()}}vd.provider={build:()=>new vd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class Yb{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Ye.UNAUTHENTICATED,this.clientId=Dd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{st(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Yd(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Kf(a,e){a.asyncQueue.verifyOperationInProgress(),st(br,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async o=>{s.isEqual(o)||(await $v(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=e}async function w_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await Kb(a);st(br,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener(s=>E_(e.remoteStore,s)),a.setAppCheckTokenChangeListener((s,o)=>E_(e.remoteStore,o)),a._onlineComponents=e}async function Kb(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st(br,"Using user provided OfflineComponentProvider");try{await Kf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===F.FAILED_PRECONDITION||o.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ea("Error using user provided cache. Falling back to memory cache: "+i),await Kf(a,new cc)}}else st(br,"Using default OfflineComponentProvider"),await Kf(a,new Fb(void 0));return a._offlineComponents}async function v0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st(br,"Using user provided OnlineComponentProvider"),await w_(a,a._uninitializedComponentsProvider._online)):(st(br,"Using default OnlineComponentProvider"),await w_(a,new vd))),a._onlineComponents}function Xb(a){return v0(a).then(e=>e.syncEngine)}async function Ed(a){const e=await v0(a),i=e.eventManager;return i.onListen=Mb.bind(null,e.syncEngine),i.onUnlisten=Lb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Ob.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=zb.bind(null,e.syncEngine),i}function Zb(a,e,i={}){const s=new yr;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,v,_){const A=new _0({next:w=>{A.Nu(),d.enqueueAndForget(()=>o0(h,C)),w.fromCache&&v.source==="server"?_.reject(new rt(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(w)},error:w=>_.reject(w)}),C=new u0(g,A,{includeMetadataChanges:!0,qa:!0});return l0(h,C)}(await Ed(a),a.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="firestore.googleapis.com",C_=!0;class V_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T0,this.ssl=C_}else this.host=e.host,this.ssl=e.ssl??C_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Xv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VS)throw new rt(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E0(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new nA;switch(s.type){case"firstParty":return new aA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=D_.get(i);s&&(st("ComponentProvider","Removing Datastore"),D_.delete(i),s.terminate())}(this),Promise.resolve()}}function $b(a,e,i,s={}){var _;a=Pn(a,Rc);const o=bd(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(NT(`https://${g}`),UT("Firestore",!0)),h.host!==T0&&h.host!==g&&Ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:o,emulatorOptions:s};if(!Wu(v,d)&&(a._setSettings(v),s.mockUserToken)){let A,C;if(typeof s.mockUserToken=="string")A=s.mockUserToken,C=Ye.MOCK_USER;else{A=xT(s.mockUserToken,(_=a._app)==null?void 0:_.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new rt(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Ye(w)}a._authCredentials=new iA(new lv(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Cr(this.firestore,e,this._query)}}class ve{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ve(this.firestore,e,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(lo(i,ve._jsonSchema))return new ve(e,s||null,new ct(Jt.fromString(i.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:_e("string",ve._jsonSchemaVersion),referencePath:_e("string")};class _r extends Cr{constructor(e,i,s){super(e,i,Md(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ve(this.firestore,null,new ct(e))}withConverter(e){return new _r(this.firestore,e,this._path)}}function fs(a,e,...i){if(a=Nn(a),ov("collection","path",e),a instanceof Rc){const s=Jt.fromString(e,...i);return qy(s),new _r(a,null,s)}{if(!(a instanceof ve||a instanceof _r))throw new rt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return qy(s),new _r(a.firestore,null,s)}}function ya(a,e,...i){if(a=Nn(a),arguments.length===1&&(e=Dd.newId()),ov("doc","path",e),a instanceof Rc){const s=Jt.fromString(e,...i);return jy(s),new ve(a,null,new ct(s))}{if(!(a instanceof ve||a instanceof _r))throw new rt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(Jt.fromString(e,...i));return jy(s),new ve(a.firestore,a instanceof _r?a.converter:null,new ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="AsyncQueue";class N_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wv(this,"async_queue_retry"),this._c=()=>{const s=Yf();s&&st(I_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Yf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const i=new yr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Va(e))throw e;st(I_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const i=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Li("INTERNAL UNHANDLED ERROR: ",x_(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Fd.createAndSchedule(this,e,i,s,h=>this.hc(h));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:x_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function x_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(a){return function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1}(a,["next","error","complete"])}class Rr extends Rc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new N_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N_(e),this._firestoreClient=void 0,await e}}}function Jb(a,e){const i=typeof a=="object"?a:Q1(),s=typeof a=="string"?a:ic,o=k1(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=VT("firestore");h&&$b(o,...h)}return o}function wc(a){if(a._terminated)throw new rt(F.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Wb(a),a._firestoreClient}function Wb(a){var s,o,h;const e=a._freezeSettings(),i=function(g,v,_,A){return new SA(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,E0(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new Yb(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this._byteString=e}static fromBase64String(e){try{return new In(qe.fromBase64String(e))}catch(i){throw new rt(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new In(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:In._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(lo(e,In._jsonSchema))return In.fromBase64String(e.bytes)}}In._jsonSchemaVersion="firestore/bytes/1.0",In._jsonSchema={type:_e("string",In._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ai._jsonSchemaVersion}}static fromJSON(e){if(lo(e,ai._jsonSchema))return new ai(e.latitude,e.longitude)}}ai._jsonSchemaVersion="firestore/geoPoint/1.0",ai._jsonSchema={type:_e("string",ai._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0}(this._values,e._values)}toJSON(){return{type:li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(lo(e,li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(i=>typeof i=="number"))return new li(e.vectorValues);throw new rt(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}li._jsonSchemaVersion="firestore/vectorValue/1.0",li._jsonSchema={type:_e("string",li._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2=/^__.*__$/;class e2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms):new oo(e,this.data,i,this.fieldTransforms)}}class A0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Dr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function S0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:a})}}class $d{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $d({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){var o;const i=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return hc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(S0(this.Ac)&&t2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class n2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Ac(e)}Cc(e,i,s,o=!1){return new $d({Ac:e,methodName:i,Dc:s,path:je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cc(a){const e=a._freezeSettings(),i=Ac(a._databaseId);return new n2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function b0(a,e,i,s,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);Wd("Data must be an object, but it was:",d,s);const g=D0(s,d);let v,_;if(h.merge)v=new pn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const w=Td(e,C,i);if(!d.contains(w))throw new rt(F.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);V0(A,w)||A.push(w)}v=new pn(A),_=d.fieldTransforms.filter(C=>v.covers(C.field))}else v=null,_=d.fieldTransforms;return new e2(new rn(g),v,_)}class Vc extends Dc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vc}}class Jd extends Dc{_toFieldTransform(e){return new XA(e.path,new ro)}isEqual(e){return e instanceof Jd}}function R0(a,e,i,s){const o=a.Cc(1,e,i);Wd("Data must be an object, but it was:",o,s);const h=[],d=rn.empty();wr(s,(v,_)=>{const A=tm(e,v,i);_=Nn(_);const C=o.yc(A);if(_ instanceof Vc)h.push(A);else{const w=mo(_,C);w!=null&&(h.push(A),d.set(A,w))}});const g=new pn(h);return new A0(d,g,o.fieldTransforms)}function w0(a,e,i,s,o,h){const d=a.Cc(1,e,i),g=[Td(e,s,i)],v=[o];if(h.length%2!=0)throw new rt(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<h.length;w+=2)g.push(Td(e,h[w])),v.push(h[w+1]);const _=[],A=rn.empty();for(let w=g.length-1;w>=0;--w)if(!V0(_,g[w])){const k=g[w];let Y=v[w];Y=Nn(Y);const tt=d.yc(k);if(Y instanceof Vc)_.push(k);else{const Z=mo(Y,tt);Z!=null&&(_.push(k),A.set(k,Z))}}const C=new pn(_);return new A0(A,C,d.fieldTransforms)}function i2(a,e,i,s=!1){return mo(i,a.Cc(s?4:3,e))}function mo(a,e){if(C0(a=Nn(a)))return Wd("Unsupported field value:",e,a),D0(a,e);if(a instanceof Dc)return function(s,o){if(!S0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const h=[];let d=0;for(const g of s){let v=mo(g,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(a,e)}return function(s,o){if((s=Nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return FA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Wt.fromDate(s);return{timestampValue:lc(o.serializer,h)}}if(s instanceof Wt){const h=new Wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lc(o.serializer,h)}}if(s instanceof ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof In)return{bytesValue:qv(o.serializer,s._byteString)};if(s instanceof ve){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:zd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof li)return function(d,g){return{mapValue:{fields:{[yv]:{stringValue:_v},[rc]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Od(g.serializer,_)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${fc(s)}`)}(a,e)}function D0(a,e){const i={};return hv(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wr(a,(s,o)=>{const h=mo(o,e.mc(s));h!=null&&(i[s]=h)}),{mapValue:{fields:i}}}function C0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Wt||a instanceof ai||a instanceof In||a instanceof ve||a instanceof Dc||a instanceof li)}function Wd(a,e,i){if(!C0(i)||!uv(i)){const s=fc(i);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function Td(a,e,i){if((e=Nn(e))instanceof fo)return e._internalPath;if(typeof e=="string")return tm(a,e);throw hc("Field path arguments must be of type string or ",a,!1,void 0,i)}const r2=new RegExp("[~\\*/\\[\\]]");function tm(a,e,i){if(e.search(r2)>=0)throw hc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new fo(...e.split("."))._internalPath}catch{throw hc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function hc(a,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${s}`),d&&(v+=` in document ${o}`),v+=")"),new rt(F.INVALID_ARGUMENT,g+a+v)}function V0(a,e){return a.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new s2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Ic("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class s2 extends I0{data(){return super.data()}}function Ic(a,e){return typeof e=="string"?tm(a,e):e instanceof fo?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class em{}class x0 extends em{}function Xf(a,e,...i){let s=[];e instanceof em&&s.push(e),s=s.concat(i),function(h){const d=h.filter(v=>v instanceof nm).length,g=h.filter(v=>v instanceof Nc).length;if(d>1||d>0&&g>0)throw new rt(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)a=o._apply(a);return a}class Nc extends x0{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Nc(e,i,s)}_apply(e){const i=this._parse(e);return M0(e._query,i),new Cr(e.firestore,e.converter,ud(e._query,i))}_parse(e){const i=Cc(e.firestore);return function(h,d,g,v,_,A,C){let w;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){L_(C,A);const Y=[];for(const tt of C)Y.push(U_(v,h,tt));w={arrayValue:{values:Y}}}else w=U_(v,h,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||L_(C,A),w=i2(g,d,C,A==="in"||A==="not-in");return ye.create(_,A,w)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function a2(a,e,i){const s=e,o=Ic("where",a);return Nc._create(o,s,i)}class nm extends em{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new nm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Bn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const v of g)M0(d,v),d=ud(d,v)}(e._query,i),new Cr(e.firestore,e.converter,ud(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class im extends x0{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new im(e,i)}_apply(e){const i=function(o,h,d){if(o.startAt!==null)throw new rt(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new rt(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new io(h,d)}(e._query,this._field,this._direction);return new Cr(e.firestore,e.converter,function(o,h){const d=o.explicitOrderBy.concat([h]);return new Ia(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,i))}}function O_(a,e="asc"){const i=e,s=Ic("orderBy",a);return im._create(s,i)}function U_(a,e,i){if(typeof(i=Nn(i))=="string"){if(i==="")throw new rt(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wv(e)&&i.indexOf("/")!==-1)throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ct.isDocumentKey(s))throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Zy(a,new ct(s))}if(i instanceof ve)return Zy(a,i._key);throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function L_(a,e){if(!Array.isArray(a)||a.length===0)throw new rt(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function M0(a,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(a.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class l2{convertValue(e,i="none"){switch(Ar(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw pt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return wr(e,(o,h)=>{s[o]=this.convertValue(h,i)}),s}convertVectorValue(e){var s,o,h;const i=(h=(o=(s=e.fields)==null?void 0:s[rc].arrayValue)==null?void 0:o.values)==null?void 0:h.map(d=>he(d.doubleValue));return new li(i)}convertGeoPoint(e){return new ai(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=gc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(to(e));default:return null}}convertTimestamp(e){const i=Er(e);return new Wt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);jt(Kv(s),9688,{name:e});const o=new eo(s.get(1),s.get(3)),h=new ct(s.popFirst(5));return o.isEqual(i)||Li(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(a,e,i){let s;return s=a?i&&(i.merge||i.mergeFields)?a.toFirestore(e,i):a.toFirestore(e):e,s}class Ql{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gs extends I0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Ic("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=gs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",gs._jsonSchema={type:_e("string",gs._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Zu extends gs{data(e={}){return super.data(e)}}class ps{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new Zu(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const v=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ql(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Zu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Ql(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:o2(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ps._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach(h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function o2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:a})}}ps._jsonSchemaVersion="firestore/querySnapshot/1.0",ps._jsonSchema={type:_e("string",ps._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class rm extends l2{constructor(e){super(),this.firestore=e}convertBytes(e){return new In(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new ve(this.firestore,null,i)}}function u2(a){a=Pn(a,Cr);const e=Pn(a.firestore,Rr),i=wc(e),s=new rm(e);return N0(a._query),Zb(i,a._query).then(o=>new ps(e,s,a,o))}function c2(a,e,i,...s){a=Pn(a,ve);const o=Pn(a.firestore,Rr),h=Cc(o);let d;return d=typeof(e=Nn(e))=="string"||e instanceof fo?w0(h,"updateDoc",a._key,e,i,s):R0(h,"updateDoc",a._key,e),xc(o,[d.toMutation(a._key,sn.exists(!0))])}function z_(a){return xc(Pn(a.firestore,Rr),[new Ec(a._key,sn.none())])}function P_(a,e){const i=Pn(a.firestore,Rr),s=ya(a),o=O0(a.converter,e);return xc(i,[b0(Cc(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,sn.exists(!1))]).then(()=>s)}function B_(a,...e){var v,_,A;a=Nn(a);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||M_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(M_(e[s])){const C=e[s];e[s]=(v=C.next)==null?void 0:v.bind(C),e[s+1]=(_=C.error)==null?void 0:_.bind(C),e[s+2]=(A=C.complete)==null?void 0:A.bind(C)}let h,d,g;if(a instanceof ve)d=Pn(a.firestore,Rr),g=Md(a._key.path),h={next:C=>{e[s]&&e[s](h2(d,a,C))},error:e[s+1],complete:e[s+2]};else{const C=Pn(a,Cr);d=Pn(C.firestore,Rr),g=C._query;const w=new rm(d);h={next:k=>{e[s]&&e[s](new ps(d,w,C,k))},error:e[s+1],complete:e[s+2]},N0(a._query)}return function(w,k,Y,tt){const Z=new _0(tt),ft=new u0(k,Z,Y);return w.asyncQueue.enqueueAndForget(async()=>l0(await Ed(w),ft)),()=>{Z.Nu(),w.asyncQueue.enqueueAndForget(async()=>o0(await Ed(w),ft))}}(wc(d),g,o,h)}function xc(a,e){return function(s,o){const h=new yr;return s.asyncQueue.enqueueAndForget(async()=>Pb(await Xb(s),o,h)),h.promise}(wc(a),e)}function h2(a,e,i){const s=i.docs.get(e._key),o=new rm(a);return new gs(a,o,e._key,s,new Ql(i.hasPendingWrites,i.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Cc(e)}set(e,i,s){this._verifyNotCommitted();const o=Zf(e,this._firestore),h=O0(o.converter,i,s),d=b0(this._dataReader,"WriteBatch.set",o._key,h,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,sn.none())),this}update(e,i,s,...o){this._verifyNotCommitted();const h=Zf(e,this._firestore);let d;return d=typeof(i=Nn(i))=="string"||i instanceof fo?w0(this._dataReader,"WriteBatch.update",h._key,i,s,o):R0(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(d.toMutation(h._key,sn.exists(!0))),this}delete(e){this._verifyNotCommitted();const i=Zf(e,this._firestore);return this._mutations=this._mutations.concat(new Ec(i._key,sn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rt(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zf(a,e){if((a=Nn(a)).firestore!==e)throw new rt(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}function Gu(){return new Jd("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(a){return wc(a=Pn(a,Rr)),new f2(a,e=>xc(a,e))}(function(e,i=!0){(function(o){Da=o})(G1),ec(new $l("firestore",(s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new Rr(new rA(s.getProvider("auth-internal")),new lA(d,s.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(_.options.projectId,A)}(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),_a(zy,Py,e),_a(zy,Py,"esm2020")})();const k_=25e4,$u=a=>new Intl.NumberFormat("sk-SK",{style:"currency",currency:"EUR"}).format(a),d2=a=>a.sort((e,i)=>e.isFixed!==i.isFixed?e.isFixed?1:-1:i.amount-e.amount),m2=({totalBudget:a,totalSpent:e,remainingBudget:i})=>{const s=a>0?e/a*100:0;let o="bg-emerald-500",h="Všetko v poriadku, rozpočet je pod kontrolou.";return s>100?(o="bg-red-600",h="Pozor! Prekročili ste rozpočet."):s>=90?(o="bg-red-500",h="Varovanie: Rozpočet je takmer vyčerpaný!"):s>=75&&(o="bg-amber-500",h="Blížite sa k limitu rozpočtu."),J.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[J.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6 text-center",children:[J.jsxs("div",{children:[J.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Celkový rozpočet"}),J.jsx("p",{className:"text-2xl font-semibold text-slate-800 mt-1",children:$u(a)})]}),J.jsxs("div",{children:[J.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Minuté"}),J.jsx("p",{className:"text-2xl font-semibold text-rose-600 mt-1",children:$u(e)})]}),J.jsxs("div",{children:[J.jsx("h3",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Zostáva"}),J.jsx("p",{className:"text-2xl font-semibold text-emerald-600 mt-1",children:$u(i)})]})]}),J.jsxs("div",{className:"mt-6",children:[J.jsxs("div",{className:"flex justify-between items-center mb-1",children:[J.jsx("span",{className:"text-sm font-medium text-slate-600",children:"Priebeh"}),J.jsxs("span",{className:`text-sm font-bold ${s>100?"text-red-600":"text-slate-600"}`,children:[s.toFixed(2),"%"]})]}),J.jsx("div",{className:"w-full bg-slate-200 rounded-full h-3.5",children:J.jsx("div",{className:`h-3.5 rounded-full transition-all duration-500 ease-out ${o}`,style:{width:`${Math.min(s,100)}%`}})}),J.jsx("p",{className:"text-center text-sm text-slate-500 mt-2",children:h})]})]})},g2=({onAddExpense:a})=>{const[e,i]=Re.useState(""),[s,o]=Re.useState(""),[h,d]=Re.useState(""),g=v=>{v.preventDefault();const _=parseFloat(s);if(!e.trim()||!s){d("Vyplňte, prosím, popis aj sumu.");return}if(isNaN(_)||_<=0){d("Suma musí byť platné kladné číslo.");return}a({description:e,amount:_}),i(""),o(""),d("")};return J.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[J.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Pridať novú položku"}),J.jsxs("form",{onSubmit:g,className:"space-y-4",children:[J.jsxs("div",{children:[J.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-slate-700",children:"Popis"}),J.jsx("input",{type:"text",id:"description",value:e,onChange:v=>i(v.target.value),placeholder:"Napr. Kuchynská linka",className:`mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400
              focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500`})]}),J.jsxs("div",{children:[J.jsx("label",{htmlFor:"amount",className:"block text-sm font-medium text-slate-700",children:"Suma (€)"}),J.jsx("input",{type:"number",id:"amount",value:s,onChange:v=>o(v.target.value),placeholder:"Napr. 5000",className:`mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400
              focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500`})]}),h&&J.jsx("p",{className:"text-sm text-red-600",children:h}),J.jsx("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors",children:"Pridať výdavok"})]})]})},U0=()=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),p2=()=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:J.jsx("path",{fillRule:"evenodd",d:"M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z",clipRule:"evenodd"})}),y2=()=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.5L14.732 3.732z"})}),_2=()=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),v2=()=>J.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:J.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),E2=({expenses:a,onDeleteExpense:e,onUpdateExpense:i})=>{const[s,o]=Re.useState(null),[h,d]=Re.useState(""),[g,v]=Re.useState(""),_=w=>{o(w.id),d(w.description),v(w.amount.toString())},A=()=>{o(null),d(""),v("")},C=w=>{const k=parseFloat(g);h.trim()&&!isNaN(k)&&k>0?(i(w,{description:h.trim(),amount:k}),A()):console.error("Invalid description or amount.")};return J.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[J.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Zoznam výdavkov"}),J.jsx("div",{className:"space-y-3 max-h-[400px] lg:max-h-[500px] overflow-y-auto pr-2",children:a.length===0?J.jsx("p",{className:"text-slate-500 text-center py-8",children:"Zatiaľ žiadne výdavky. Pridajte prvú položku!"}):a.map(w=>J.jsx("div",{className:`flex items-center justify-between p-3 rounded-lg ${w.isFixed?"bg-slate-100":"bg-slate-50"}`,children:s===w.id?J.jsxs(J.Fragment,{children:[J.jsxs("div",{className:"flex-grow space-y-2",children:[J.jsx("input",{type:"text",value:h,onChange:k=>d(k.target.value),className:"block w-full px-2 py-1 bg-white border border-slate-300 rounded-md text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500","aria-label":"Upraviť popis"}),J.jsx("input",{type:"number",value:g,onChange:k=>v(k.target.value),className:"block w-full px-2 py-1 bg-white border border-slate-300 rounded-md text-sm shadow-sm focus:outline-none focus:ring-1 focus:ring-indigo-500","aria-label":"Upraviť sumu"})]}),J.jsxs("div",{className:"flex items-center ml-2",children:[J.jsx("button",{onClick:()=>C(w.id),className:"p-2 rounded-full text-emerald-600 hover:bg-emerald-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500","aria-label":"Uložiť zmeny",children:J.jsx(_2,{})}),J.jsx("button",{onClick:A,className:"p-2 rounded-full text-slate-500 hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500","aria-label":"Zrušiť úpravy",children:J.jsx(v2,{})})]})]}):J.jsxs(J.Fragment,{children:[J.jsxs("div",{children:[J.jsx("p",{className:"font-medium text-slate-800",children:w.description}),J.jsx("p",{className:"text-sm text-slate-600",children:$u(w.amount)})]}),J.jsx("div",{className:"flex items-center",children:w.isFixed?J.jsx("span",{className:"p-2 text-slate-400",title:"Táto položka je fixná a nedá sa vymazať.",children:J.jsx(p2,{})}):J.jsxs(J.Fragment,{children:[J.jsx("button",{onClick:()=>_(w),className:"p-2 rounded-full text-slate-500 hover:bg-blue-100 hover:text-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors","aria-label":"Upraviť položku",children:J.jsx(y2,{})}),J.jsx("button",{onClick:()=>e(w.id),className:"p-2 rounded-full text-slate-500 hover:bg-red-100 hover:text-red-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors","aria-label":"Vymazať položku",children:J.jsx(U0,{})})]})})]})},w.id))})]})},T2=({items:a,onAddItem:e,onDeleteItem:i})=>{const[s,o]=Re.useState(""),h=d=>{d.preventDefault(),s.trim()&&(e(s),o(""))};return J.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[J.jsx("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Zoznam na nákup (To-Do)"}),J.jsxs("form",{onSubmit:h,className:"flex gap-2",children:[J.jsx("input",{type:"text",value:s,onChange:d=>o(d.target.value),placeholder:"Napr. Sušička",className:`flex-grow block w-full px-3 py-2 bg-white border border-slate-300 rounded-md text-sm shadow-sm placeholder-slate-400
            focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500`}),J.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors","aria-label":"Pridať položku do zoznamu",children:"Pridať"})]}),J.jsx("div",{className:"mt-4 space-y-2 max-h-[250px] overflow-y-auto pr-2",children:a.length===0?J.jsx("p",{className:"text-slate-500 text-center py-4",children:"Všetko nakúpené! Skvelá práca."}):a.map(d=>J.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-slate-50 hover:bg-slate-100 transition-colors",children:[J.jsx("p",{className:"font-medium text-slate-800 text-sm",children:d.text}),J.jsx("button",{onClick:()=>i(d.id),className:"p-1.5 rounded-full text-slate-400 hover:bg-red-100 hover:text-red-500 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-red-400 transition-colors","aria-label":`Vymazať položku ${d.text}`,children:J.jsx(U0,{})})]},d.id))})]})};var A2="firebase",S2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_a(A2,S2,"app");const b2={apiKey:"AIzaSyAcwWIRTY_aW7H1KdYdnr_E06RXiNyJgfU",authDomain:"budget-tracker-107bd.firebaseapp.com",projectId:"budget-tracker-107bd",storageBucket:"budget-tracker-107bd.firebasestorage.app",messagingSenderId:"670999577303",appId:"1:670999577303:web:78e7cef62bcbf756ece692",measurementId:"G-K7B2K8FTFQ"},R2=$_(b2),gn=Jb(R2),j_=[{description:"Posteľ",amount:785,isFixed:!1},{description:"Batéria",amount:42.9,isFixed:!1},{description:"Chladnička",amount:701.28,isFixed:!1},{description:"Umývačka",amount:626.65,isFixed:!1},{description:"Rúra",amount:416.07,isFixed:!1},{description:"Varná doska",amount:264,isFixed:!1},{description:"Spálňová zostava",amount:1880,isFixed:!1},{description:"Skriňa chodba",amount:1680,isFixed:!1},{description:"Kuchynská linka s digestorom a drezom",amount:6440,isFixed:!1},{description:"Kolky",amount:200,isFixed:!1},{description:"Elektromer",amount:171.95,isFixed:!1},{description:"Byt - Hypotéka",amount:15e4,isFixed:!0},{description:"Byt - Vlastné zdroje",amount:77973,isFixed:!0}],q_=[{text:"Sušička"},{text:"Matrace"},{text:"Gauč"},{text:"Jed. stôl"},{text:"Stoličky"},{text:"Zrkadlo"},{text:"Komoda"},{text:"Svietidlá"},{text:"Taburetka"}],w2=()=>{const[a,e]=Re.useState([]),[i,s]=Re.useState([]),[o,h]=Re.useState(!0);Re.useEffect(()=>{const k=fs(gn,"expenses"),Y=Xf(k,O_("createdAt","desc")),tt=B_(Y,async Z=>{if(Z.empty&&j_.length>0){console.log("Empty expenses collection, seeding data...");const ft=$f(gn);j_.forEach(lt=>{const ht=ya(fs(gn,"expenses"));ft.set(ht,{...lt,createdAt:Gu()})}),await ft.commit()}else{const ft=Z.docs.map(lt=>({id:lt.id,...lt.data()}));e(d2(ft))}h(!1)},Z=>{console.error("Error fetching expenses: ",Z),h(!1)});return()=>tt()},[]),Re.useEffect(()=>{const k=fs(gn,"todo_items"),Y=Xf(k,O_("createdAt","desc")),tt=B_(Y,async Z=>{if(Z.empty&&q_.length>0){console.log("Empty todo collection, seeding data...");const ft=$f(gn);q_.forEach(lt=>{const ht=ya(fs(gn,"todo_items"));ft.set(ht,{...lt,createdAt:Gu()})}),await ft.commit()}else{const ft=Z.docs.map(lt=>({id:lt.id,...lt.data()}));s(ft)}},Z=>{console.error("Error fetching To-Do items: ",Z)});return()=>tt()},[]);const d=Re.useCallback(async k=>{try{await P_(fs(gn,"expenses"),{...k,createdAt:Gu()});const Y=fs(gn,"todo_items"),tt=Xf(Y,a2("text","==",k.description)),Z=await u2(tt);if(!Z.empty){const ft=$f(gn);Z.forEach(lt=>{ft.delete(lt.ref)}),await ft.commit()}}catch(Y){console.error("Error adding document: ",Y)}},[]),g=Re.useCallback(async k=>{try{await z_(ya(gn,"expenses",k))}catch(Y){console.error("Error deleting document: ",Y)}},[]),v=Re.useCallback(async(k,Y)=>{try{const tt=ya(gn,"expenses",k);await c2(tt,Y)}catch(tt){console.error("Error updating document: ",tt)}},[]),_=Re.useCallback(async k=>{if(k.trim())try{await P_(fs(gn,"todo_items"),{text:k.trim(),createdAt:Gu()})}catch(Y){console.error("Error adding To-Do item: ",Y)}},[]),A=Re.useCallback(async k=>{try{await z_(ya(gn,"todo_items",k))}catch(Y){console.error("Error deleting To-Do item: ",Y)}},[]),{totalSpent:C,remainingBudget:w}=Re.useMemo(()=>{const k=a.reduce((Y,tt)=>Y+tt.amount,0);return{totalSpent:k,remainingBudget:k_-k}},[a]);return o?J.jsx("div",{className:"min-h-screen flex items-center justify-center text-slate-600",children:J.jsx("p",{children:"Pripájam sa k databáze..."})}):J.jsx("div",{className:"min-h-screen bg-slate-100 font-sans text-slate-800 p-4 sm:p-6 lg:p-8",children:J.jsxs("div",{className:"max-w-4xl mx-auto",children:[J.jsxs("header",{className:"mb-8 text-center",children:[J.jsx("h1",{className:"text-4xl sm:text-5xl font-bold text-slate-900",children:"Sledovanie rozpočtu bytu"}),J.jsx("p",{className:"text-slate-600 mt-2",children:"Majte prehľad o svojich investíciách do nového bývania."})]}),J.jsxs("main",{className:"space-y-8",children:[J.jsx(m2,{totalBudget:k_,totalSpent:C,remainingBudget:w}),J.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[J.jsx("div",{className:"lg:col-span-2",children:J.jsx(g2,{onAddExpense:d})}),J.jsx("div",{className:"lg:col-span-3",children:J.jsx(E2,{expenses:a,onDeleteExpense:g,onUpdateExpense:v})}),J.jsx("div",{className:"lg:col-span-5",children:J.jsx(T2,{items:i,onAddItem:_,onDeleteItem:A})})]})]}),J.jsx("footer",{className:"text-center mt-12 text-sm text-slate-500",children:J.jsx("p",{children:"Vytvorené s láskou pre spoločné ciele."})})]})})},L0=document.getElementById("root");if(!L0)throw new Error("Could not find root element to mount to");const D2=_T.createRoot(L0);D2.render(J.jsx(cT.StrictMode,{children:J.jsx(w2,{})}));
